/* MOTHER */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "931e95e6-6011-491a-81b9-ee2246fb0554",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": "function transform (data){\n\t  var status =  Util.getSchemaAttributeFirstValue(data, \"http://schema.org/paymentStatus\");\n  \tif (status){\n    \treturn data;\n    }\n  \telse return null;\n}",
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::*[contains(text(),'ending')]|./descendant::*[contains(text(),'Account')]/following::text()",
                  "regex": "\\d+"
                }
              ]
            },
            "name": "http://schema.org/accountId",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "substring-after(./descendant::*[contains(text(),'due')],\"on\")"
                }
              ]
            },
            "name": "http://schema.org/paymentDue",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    'keyword1': 'PaymentDue',\n    'keyword2': 'PaymentPastDue',\n    'keyword3': 'PaymentComplete',\n    'keyword4': 'PaymentDeclined',\n    'keyword5': 'PaymentAutomaticallyApplied',\n    'keyword6': 'PaymentScheduled'\n  };\n  for(var key in textMatchObj){\n  if(data.trim().indexOf(key) !== -1) return textMatchObj[key];\n}\nreturn \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a[contains(.,'View') or contains(.,'Payment')]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "."
        }
      },
      {
        "id": "b8a588fd-4738-4409-bb97-ea8fb4edf3be",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/image",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "21d6d9d2-73d1-450e-83c6-9fd9bf601d24",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::*[contains(text(),'Minimum')]/following::text()"
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data.match(/\\$[\\d\\,\\.]{4,}/)){\n    var price = data.replace(/\\$/,'')\n    var amt = parseFloat(price.match(/[\\$\\d\\,\\.]+/)[0].replace(/,/,'')).toFixed(2);\n    return amt;\n  } else {\n    return null;\n  }\n}",
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::*[contains(text(),'Minimum')]/following::text()"
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {name: \"AUD\", symbol: \"A$\"},\n    {name: \"AUD\", symbol: \"AU$\"},\n    {name: \"AUD\", symbol: \"AUD\"},\n    {name: \"EGP\", symbol: \"ج.م\"},\n    {name: \"EUR\", symbol: \"€\"},\n    {name: \"GBP\", symbol: \"£\"},\n    {name: \"HUF\", symbol: \"Ft\"},\n     {name: \"IDR\", symbol: \"Rp\"},\n    {name: \"IND\", symbol: \"Rs\"},\n    {name: \"INR\", symbol: \"₹\"},\n    {name: \"MYR\", symbol: \"RM\"},\n    {name: \"NOK\", symbol: \"kr\"},\n    {name: \"PEN\", symbol: \"S/\"},\n    {name: \"PHP\", symbol: \"₱\"},\n    {name: \"PLN\", symbol: \"zł\"},\n    {name: \"QAR\", symbol: \"ر.ق\"},\n    {name: \"RON\", symbol: \"lei\"},\n    {name: \"THB\", symbol: \"฿\"},\n    {name: \"TRY\", symbol: \"TL\"},\n    {name: \"USD\", symbol: \"$\"},\n    {name: \"UGX\", symbol: \"Ush\"},\n    {name: \"VND\", symbol: \"₫\"},\n    {name: \"USD\", symbol: \"USD\"}\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].name;\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::img[contains(@src,'logo')]/@src"
                }
              ]
            },
            "name": "http://schema.org/image",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::img[contains(@src,'logo')]/@alt"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::img[contains(@src,'logo')]/parent::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::*[contains(text(),'Total')]/following::text()"
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data.match(/\\$[\\d\\,\\.]{4,}/)){\n    var price = data.replace(/\\$/,'')\n    var amt = parseFloat(price.match(/[\\$\\d\\,\\.]+/)[0].replace(/,/,'')).toFixed(2);\n    return amt;\n  } else {\n    return null;\n  }\n}",
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::*[contains(text(),'Total')]/following::text()"
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {name: \"AUD\", symbol: \"A$\"},\n    {name: \"AUD\", symbol: \"AU$\"},\n    {name: \"AUD\", symbol: \"AUD\"},\n    {name: \"EGP\", symbol: \"ج.م\"},\n    {name: \"EUR\", symbol: \"€\"},\n    {name: \"GBP\", symbol: \"£\"},\n    {name: \"HUF\", symbol: \"Ft\"},\n     {name: \"IDR\", symbol: \"Rp\"},\n    {name: \"IND\", symbol: \"Rs\"},\n    {name: \"INR\", symbol: \"₹\"},\n    {name: \"MYR\", symbol: \"RM\"},\n    {name: \"NOK\", symbol: \"kr\"},\n    {name: \"PEN\", symbol: \"S/\"},\n    {name: \"PHP\", symbol: \"₱\"},\n    {name: \"PLN\", symbol: \"zł\"},\n    {name: \"QAR\", symbol: \"ر.ق\"},\n    {name: \"RON\", symbol: \"lei\"},\n    {name: \"THB\", symbol: \"฿\"},\n    {name: \"TRY\", symbol: \"TL\"},\n    {name: \"USD\", symbol: \"$\"},\n    {name: \"UGX\", symbol: \"Ush\"},\n    {name: \"VND\", symbol: \"₫\"},\n    {name: \"USD\", symbol: \"USD\"}\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].name;\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "0f742efb-194f-4680-8d5d-c46e93e85966",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Person",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::*[contains(.,'Hello|Hi|Dear')]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform (data){\n  \tif (data.match(/,/)){\n\t\treturn data.replace(/Hello|Hi|Dear/,\"\").split(/,/)[0].trim();\n    }\n  \telse return data;\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "b8a588fd-4738-4409-bb97-ea8fb4edf3be",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "21d6d9d2-73d1-450e-83c6-9fd9bf601d24",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/minimumPaymentDue",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/provider",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/totalPaymentDue",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "0f742efb-194f-4680-8d5d-c46e93e85966",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/customer",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* AMERICAN EXPRESS welcome.aexp.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "931e95e6-6011-491a-81b9-ee2246fb0554",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": "function transform (data){\n\t  var status =  Util.getSchemaAttributeFirstValue(data, \"http://schema.org/paymentStatus\");\n  \tif (status){\n    \treturn data;\n    }\n  \telse return null;\n}",
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::p[contains(.,'Ending:')]",
                  "regex": "\\d+"
                }
              ]
            },
            "name": "http://schema.org/accountId",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::b[contains(text(),\"We processed your payment\")]"
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    //'keyword1': 'PaymentDue',\n    //'keyword2': 'PaymentPastDue',\n    'We processed your payment': 'PaymentComplete',\n    //'keyword4': 'PaymentDeclined',\n    //'keyword5': 'PaymentAutomaticallyApplied',\n    //'keyword6': 'PaymentScheduled'\n  };\n  for(var key in textMatchObj){\n  if(data.trim().indexOf(key) !== -1) return textMatchObj[key];\n}\nreturn \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a[contains(text(),'payment to appear online')]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "\"aexp.com\""
        }
      },
      {
        "id": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::img[contains(@alt,'logo')]/@src"
                }
              ]
            },
            "name": "http://schema.org/image",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::p[contains(text(),'All rights reserved')]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform (data){\n  return data.match(/American\\sExpress/)[0] || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a[contains(text(),'Customer Care')]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::p[contains(text(),'Payment Amount:')]/parent::td/following-sibling::td"
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data.match(/\\$[\\d\\,\\.]{4,}/)){\n    var price = data.replace(/\\$/,'')\n    var amt = parseFloat(price.match(/[\\$\\d\\,\\.]+/)[0].replace(/,/,'')).toFixed(2);\n    return amt;\n  } else {\n    return null;\n  }\n}",
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::p[contains(text(),'Payment Amount:')]/parent::td/following-sibling::td"
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {name: \"AUD\", symbol: \"A$\"},\n    {name: \"AUD\", symbol: \"AU$\"},\n    {name: \"AUD\", symbol: \"AUD\"},\n    {name: \"EGP\", symbol: \"ج.م\"},\n    {name: \"EUR\", symbol: \"€\"},\n    {name: \"GBP\", symbol: \"£\"},\n    {name: \"HUF\", symbol: \"Ft\"},\n     {name: \"IDR\", symbol: \"Rp\"},\n    {name: \"IND\", symbol: \"Rs\"},\n    {name: \"INR\", symbol: \"₹\"},\n    {name: \"MYR\", symbol: \"RM\"},\n    {name: \"NOK\", symbol: \"kr\"},\n    {name: \"PEN\", symbol: \"S/\"},\n    {name: \"PHP\", symbol: \"₱\"},\n    {name: \"PLN\", symbol: \"zł\"},\n    {name: \"QAR\", symbol: \"ر.ق\"},\n    {name: \"RON\", symbol: \"lei\"},\n    {name: \"THB\", symbol: \"฿\"},\n    {name: \"TRY\", symbol: \"TL\"},\n    {name: \"USD\", symbol: \"$\"},\n    {name: \"UGX\", symbol: \"Ush\"},\n    {name: \"VND\", symbol: \"₫\"},\n    {name: \"USD\", symbol: \"USD\"}\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].name;\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "0f742efb-194f-4680-8d5d-c46e93e85966",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Person",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::p[contains(.,'Hello')]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform (data){\n  \treturn data.match(/,/) ? data.replace(/Hello/, \"\").split(\",\")[1].trim() : data;\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/provider",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/totalPaymentDue",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "0f742efb-194f-4680-8d5d-c46e93e85966",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/customer",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}
/* welcome.aexp.com (financial hardship) */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "931e95e6-6011-491a-81b9-ee2246fb0554",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": "function transform (data){\n\t  var status =  Util.getSchemaAttributeFirstValue(data, \"http://schema.org/paymentStatus\");\n  \tif (status){\n    \treturn data;\n    }\n  \telse return null;\n}",
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::p[contains(.,\"Account Summary\")]/ancestor::table/following-sibling::table/descendant::td[1]",
                  "regex": "\\d+"
                }
              ]
            },
            "name": "http://schema.org/accountId",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/./descendant::p[contains(.,\"Account Summary\")]/ancestor::table/descendant::p[contains(.,\"Due\")]"
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    //'keyword1': 'PaymentDue',\n    'Past Due': 'PaymentPastDue',\n    //'keyword3': 'PaymentComplete',\n    //'keyword4': 'PaymentDeclined',\n    //'keyword5': 'PaymentAutomaticallyApplied',\n    //'keyword6': 'PaymentScheduled'\n  };\n  for(var key in textMatchObj){\n  if(data.trim().indexOf(key) !== -1) return textMatchObj[key];\n}\nreturn \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "\"aexp.com\""
        }
      },
      {
        "id": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::img[contains(@src,'logo')]/@src"
                }
              ]
            },
            "name": "http://schema.org/image",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::p[contains(.,\"All rights reserved.\")]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.match(/American\\sExpress/)[0] || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::p[contains(.,\"visit americanexpress.com\")]/descendant::a[contains(text(),\"americanexpress.com\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::p[contains(.,\"Total Due\")]/following::p[contains(.,\"$\")][2]"
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data.match(/\\$[\\d\\,\\.]{4,}/)){\n    var price = data.replace(/\\$/,'')\n    var amt = parseFloat(price.match(/[\\$\\d\\,\\.]+/)[0].replace(/,/,'')).toFixed(2);\n    return amt;\n  } else {\n    return null;\n  }\n}",
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::p[contains(.,\"Total Due\")]/following::p[contains(.,\"$\")][2]"
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {name: \"AUD\", symbol: \"A$\"},\n    {name: \"AUD\", symbol: \"AU$\"},\n    {name: \"AUD\", symbol: \"AUD\"},\n    {name: \"EGP\", symbol: \"ج.م\"},\n    {name: \"EUR\", symbol: \"€\"},\n    {name: \"GBP\", symbol: \"£\"},\n    {name: \"HUF\", symbol: \"Ft\"},\n     {name: \"IDR\", symbol: \"Rp\"},\n    {name: \"IND\", symbol: \"Rs\"},\n    {name: \"INR\", symbol: \"₹\"},\n    {name: \"MYR\", symbol: \"RM\"},\n    {name: \"NOK\", symbol: \"kr\"},\n    {name: \"PEN\", symbol: \"S/\"},\n    {name: \"PHP\", symbol: \"₱\"},\n    {name: \"PLN\", symbol: \"zł\"},\n    {name: \"QAR\", symbol: \"ر.ق\"},\n    {name: \"RON\", symbol: \"lei\"},\n    {name: \"THB\", symbol: \"฿\"},\n    {name: \"TRY\", symbol: \"TL\"},\n    {name: \"USD\", symbol: \"$\"},\n    {name: \"UGX\", symbol: \"Ush\"},\n    {name: \"VND\", symbol: \"₫\"},\n    {name: \"USD\", symbol: \"USD\"}\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].name;\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/totalPaymentDue",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/provider",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* AT&T ordertrack.wireless.att-mail.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "931e95e6-6011-491a-81b9-ee2246fb0554",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": "function transform (data){\n\t  var status =  Util.getSchemaAttributeFirstValue(data, \"http://schema.org/paymentStatus\");\n  \tif (status){\n    \treturn data;\n    }\n  \telse return null;\n}",
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::span[contains(.,\"received your\")]/following-sibling::span[contains(text(),\"for\")]/following-sibling::span",
                  "regex": "\\d+"
                }
              ]
            },
            "name": "http://schema.org/accountId",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::h2[@class=\"header\"]"
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    'Forget Something': 'PaymentDue',\n    //'keyword2': 'PaymentPastDue',\n    \"We've added charges to your account\": 'PaymentComplete',\n    //'keyword4': 'PaymentDeclined',\n    //'keyword5': 'PaymentAutomaticallyApplied',\n    //'keyword6': 'PaymentScheduled'\n  };\n  for(var key in textMatchObj){\n  if(data.trim().indexOf(key) !== -1) return textMatchObj[key];\n}\nreturn \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a[contains(.,\"myAT&T\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "\"att-mail.com\""
        }
      },
      {
        "id": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::p[contains(.,\"AT&T\") and not (contains(.,\"Account\"))]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a[contains(text(),\"att.com/contactus\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::span[contains(text(),'$')]"
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data.match(/\\$[\\d\\,\\.]{4,}/)){\n    var price = data.replace(/\\$/,'')\n    var amt = parseFloat(price.match(/[\\$\\d\\,\\.]+/)[0].replace(/,/,'')).toFixed(2);\n    return amt;\n  } else {\n    return null;\n  }\n}",
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::span[contains(text(),'$')]"
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {name: \"AUD\", symbol: \"A$\"},\n    {name: \"AUD\", symbol: \"AU$\"},\n    {name: \"AUD\", symbol: \"AUD\"},\n    {name: \"EGP\", symbol: \"ج.م\"},\n    {name: \"EUR\", symbol: \"€\"},\n    {name: \"GBP\", symbol: \"£\"},\n    {name: \"HUF\", symbol: \"Ft\"},\n     {name: \"IDR\", symbol: \"Rp\"},\n    {name: \"IND\", symbol: \"Rs\"},\n    {name: \"INR\", symbol: \"₹\"},\n    {name: \"MYR\", symbol: \"RM\"},\n    {name: \"NOK\", symbol: \"kr\"},\n    {name: \"PEN\", symbol: \"S/\"},\n    {name: \"PHP\", symbol: \"₱\"},\n    {name: \"PLN\", symbol: \"zł\"},\n    {name: \"QAR\", symbol: \"ر.ق\"},\n    {name: \"RON\", symbol: \"lei\"},\n    {name: \"THB\", symbol: \"฿\"},\n    {name: \"TRY\", symbol: \"TL\"},\n    {name: \"USD\", symbol: \"$\"},\n    {name: \"UGX\", symbol: \"Ush\"},\n    {name: \"VND\", symbol: \"₫\"},\n    {name: \"USD\", symbol: \"USD\"}\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].name;\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "0f742efb-194f-4680-8d5d-c46e93e85966",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Person",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::p[contains(.,'Dear')]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform (data){\n  \tif (data.match(/,/)){\n\t\treturn data.replace(/Dear/,\"\").split(/,/)[0].trim();\n    }\n  \telse return data;\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/totalPaymentDue",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "0f742efb-194f-4680-8d5d-c46e93e85966",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/customer",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/provider",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* BARCLAYS BANK service.mynflcard.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "931e95e6-6011-491a-81b9-ee2246fb0554",
        "repeating": true,
        "locations": [
          "/descendant::table[@class = \"table-sm\"]/descendant::td[contains(.,\"Your Account Information\") or contains(.,\"Payment\")][2]"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": "function transform (data){\n\t  var status =  Util.getSchemaAttributeFirstValue(data, \"http://schema.org/paymentStatus\");\n  \tif (status){\n    \treturn data;\n    }\n  \telse return null;\n}",
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td[contains(.,\"Account Ending:\")]/following-sibling::td[1]",
                  "regex": "\\d+"
                }
              ]
            },
            "name": "http://schema.org/accountId",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/paymentDue",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data,node,headers){\n  if(!data) return \"\";\n\n  \n  \n  var stringsArr = [\n    {oldStr: /payment\\s+is\\s+due\\s+on\\s+((\\d{1,2}\\/){2}\\d{2,4})/, newStr: \"$1\"},\n    {oldStr: /Payment\\sdated:\\s((\\d{1,2}\\/){2}\\d{2,4})/, newStr: \"$1\"},\n    {oldStr: /Payment\\sDue\\sDate:\\s((\\d{1,2}\\/){2}\\d{2,4})/, newStr: \"$1\"},\n    {oldStr: /must\\s+be\\s+received\\s+by\\s+7p.m.\\s+ET\\s+on\\s+((\\d{1,2})\\/(\\d{1,2}))/, newStr: \"$1\"}\n  ];\n  \n\n  for (var i = 0; i < stringsArr.length; i++) {\n    var el = stringsArr[i];\n  \tif(el.oldStr.exec(data)){\n      data = el.oldStr.exec(data)[0].replace(el.oldStr, el.newStr);\n      return data.split(\"/\").length === 3 ? data : \"1970/\" + data;\n    \t} \n\t}\n  \n\n  \n  if (data.indexOf(\"Payment dated: Today\") !== -1) return new Date(headers.get(\"Date\")*1000);\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    'Payment Due': 'PaymentDue',\n    //'keyword2': 'PaymentPastDue',\n    //'keyword3': 'PaymentComplete',\n    //'keyword4': 'PaymentDeclined',\n    //'keyword5': 'PaymentAutomaticallyApplied',\n    'Your payment is pending': 'PaymentScheduled',\n    'Your payment is scheduled': 'PaymentScheduled',\n    'payment has been scheduled': 'PaymentScheduled'\n  };\n\n  for(var key in textMatchObj){\n    if(data.trim().indexOf(key) !== -1) return textMatchObj[key];\n  }\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(text(),\"Pay online now\") or contains(text(),\"View Online\") or contains(text(),\"myNFLcard.com\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "\"mynflcard.com\""
        }
      },
      {
        "id": "21d6d9d2-73d1-450e-83c6-9fd9bf601d24",
        "repeating": true,
        "locations": [
          "/descendant::td/descendant::text()[contains(.,'Payment Due Date') or contains(.,\"Payment Details\")]"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::td/descendant::text()[contains(.,\"Minimum Payment Due:\")]\n| \n/descendant::strong[contains(.,\"This pending payment\") or contains(.,'This scheduled payment')]/following-sibling::text()"
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::td/descendant::text()[contains(.,\"Minimum Payment Due:\")]\n| \n/descendant::strong[contains(.,\"This pending payment\") or contains(.,'This scheduled payment')]/following-sibling::text()"
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {name: \"AUD\", symbol: \"A$\"},\n    {name: \"EGP\", symbol: \"ج.م\"},\n    {name: \"EUR\", symbol: \"€\"},\n    {name: \"GBP\", symbol: \"£\"},\n    {name: \"IDR\", symbol: \"Rp\"},\n    {name: \"IND\", symbol: \"Rs\"},\n    {name: \"INR\", symbol: \"₹\"},\n    {name: \"MYR\", symbol: \"RM\"},\n    {name: \"NOK\", symbol: \"kr\"},\n    {name: \"PEN\", symbol: \"S/\"},\n    {name: \"PHP\", symbol: \"₱\"},\n    {name: \"PLN\", symbol: \"zł\"},\n    {name: \"QAR\", symbol: \"ر.ق\"},\n    {name: \"RON\", symbol: \"lei\"},\n    {name: \"THB\", symbol: \"฿\"},\n    {name: \"TRY\", symbol: \"TL\"},\n    {name: \"USD\", symbol: \"$\"},\n    {name: \"UGX\", symbol: \"Ush\"}, //might also be \"USh\" as per wikipedia\n    {name: \"VND\", symbol: \"₫\"}\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].name;\n  }\n\n  return data ? \"USD\" : \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
        "repeating": true,
        "locations": [
          "/descendant::table[@class = \"table-sm\"]/descendant::td[contains(.,\"Your Account Information\") or contains(.,\"Payment\")][2]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::img[contains(@src, \"nfl\") or contains(@src, \"epm\")]/@src"
                }
              ]
            },
            "name": "http://schema.org/image",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td/descendant::text()[contains(.,'Bank')]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.match(/Barclays\\sBank/)[0];\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(text(),\"www.myNFLcard.com\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "0f742efb-194f-4680-8d5d-c46e93e85966",
        "repeating": true,
        "locations": [
          "/descendant::table[@class = \"table-sm\"]/descendant::td[contains(.,\"Your Account Information\") or contains(.,\"Payment\")][2]"
        ],
        "type": "http://schema.org/Person",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td[contains(.,\"Account Ending:\")]/parent::tr/parent::tbody/parent::table/preceding-sibling::table/descendant::td[1]/descendant::text()"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform (data){\n  \tif (data.match(/,/)){\n\t\treturn data.replce(/Hello|Hi|Dear/,\"\").split(/,/)[0].trim();\n    }\n  \telse return data;\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "21d6d9d2-73d1-450e-83c6-9fd9bf601d24",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/minimumPaymentDue",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/provider",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "0f742efb-194f-4680-8d5d-c46e93e85966",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/customer",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* BARCLAYS BANK hawaiancreditcard.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "931e95e6-6011-491a-81b9-ee2246fb0554",
        "repeating": true,
        "locations": [
          "/descendant::td/descendant::text()[contains(.,'Payment Due Date')]\n|\ndescendant::strong[contains(.,\"Payment Details\")]"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": "function transform (data){\n\t  var status =  Util.getSchemaAttributeFirstValue(data, \"http://schema.org/paymentStatus\");\n  \tif (status){\n    \treturn data;\n    }\n  \telse return null;\n}",
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td[contains(.,\"Account Ending:\")]/following-sibling::td[1]",
                  "regex": "\\d+"
                }
              ]
            },
            "name": "http://schema.org/accountId",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td/descendant::text()[contains(.,'Payment Due Date')]\n|\n/descendant::strong[contains(text(),\"Payment dated\")]/following-sibling::text()"
                }
              ]
            },
            "name": "http://schema.org/paymentDue",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data,node,headers){\n  if(!data) return \"\";\n  if (data.match(/(\\d{1,2}\\/){2}\\d{2,4}/)) return data.match(/(\\d{1,2}\\/){2}\\d{2,4}/);\n  return new Date(headers.get(\"Date\")*1000);\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::td"
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    'Payment Due Date:': 'PaymentDue',\n    //'keyword2': 'PaymentPastDue',\n    //'keyword3': 'PaymentComplete',\n    //'keyword4': 'PaymentDeclined',\n    //'keyword5': 'PaymentAutomaticallyApplied',\n    'Your payment is pending': 'PaymentScheduled',\n    'Your payment is scheduled': 'PaymentScheduled'\n  };\n\n  for(var key in textMatchObj){\n    if(data.trim().indexOf(key) !== -1) return textMatchObj[key];\n  }\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(text(),\"Pay online now\") or contains(text(),\"View Online\") or contains(text(),\"myNFLcard.com\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "\"hawaiancreditcard.com\""
        }
      },
      {
        "id": "21d6d9d2-73d1-450e-83c6-9fd9bf601d24",
        "repeating": true,
        "locations": [
          "/descendant::td/descendant::text()[contains(.,'Payment Due Date') or contains(.,\"Payment Details\")]"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::td/descendant::text()[contains(.,\"Minimum Payment Due:\")]\n| \n/descendant::strong[contains(.,\"This pending payment\") or contains(.,'This scheduled payment')]/following-sibling::text()"
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::td/descendant::text()[contains(.,\"Minimum Payment Due:\")]\n| \n/descendant::strong[contains(.,\"This pending payment\") or contains(.,'This scheduled payment')]/following-sibling::text()"
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {name: \"AUD\", symbol: \"A$\"},\n    {name: \"EGP\", symbol: \"ج.م\"},\n    {name: \"EUR\", symbol: \"€\"},\n    {name: \"GBP\", symbol: \"£\"},\n    {name: \"IDR\", symbol: \"Rp\"},\n    {name: \"IND\", symbol: \"Rs\"},\n    {name: \"INR\", symbol: \"₹\"},\n    {name: \"MYR\", symbol: \"RM\"},\n    {name: \"NOK\", symbol: \"kr\"},\n    {name: \"PEN\", symbol: \"S/\"},\n    {name: \"PHP\", symbol: \"₱\"},\n    {name: \"PLN\", symbol: \"zł\"},\n    {name: \"QAR\", symbol: \"ر.ق\"},\n    {name: \"RON\", symbol: \"lei\"},\n    {name: \"THB\", symbol: \"฿\"},\n    {name: \"TRY\", symbol: \"TL\"},\n    {name: \"USD\", symbol: \"$\"},\n    {name: \"UGX\", symbol: \"Ush\"}, //might also be \"USh\" as per wikipedia\n    {name: \"VND\", symbol: \"₫\"}\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].name;\n  }\n\n  return data ? \"USD\" : \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
        "repeating": true,
        "locations": [
          "/descendant::td/descendant::text()[contains(.,'Payment Due Date') or contains(.,\"Payment Details\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::img[contains(@src, \"hcl\") or contains(@src, \"hac\")]/@src"
                }
              ]
            },
            "name": "http://schema.org/image",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td/descendant::text()[contains(.,'Bank')]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.match(/Barclays\\sBank/)[0];\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(text(),\"www.HawaiianCreditCard.com\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
        "repeating": true,
        "locations": [
          "/descendant::td/descendant::text()[contains(.,'Payment Due Date') or contains(.,\"Payment Details\")]"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::td/descendant::text()[contains(.,\"Minimum Payment Due:\")]\n| \n/descendant::strong[contains(.,\"This pending payment\") or contains(.,'This scheduled payment')]/following-sibling::text()"
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::td/descendant::text()[contains(.,\"Minimum Payment Due:\")]\n| \n/descendant::strong[contains(.,\"This pending payment\") or contains(.,'This scheduled payment')]/following-sibling::text()"
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {name: \"AUD\", symbol: \"A$\"},\n    {name: \"EGP\", symbol: \"ج.م\"},\n    {name: \"EUR\", symbol: \"€\"},\n    {name: \"GBP\", symbol: \"£\"},\n    {name: \"IDR\", symbol: \"Rp\"},\n    {name: \"IND\", symbol: \"Rs\"},\n    {name: \"INR\", symbol: \"₹\"},\n    {name: \"MYR\", symbol: \"RM\"},\n    {name: \"NOK\", symbol: \"kr\"},\n    {name: \"PEN\", symbol: \"S/\"},\n    {name: \"PHP\", symbol: \"₱\"},\n    {name: \"PLN\", symbol: \"zł\"},\n    {name: \"QAR\", symbol: \"ر.ق\"},\n    {name: \"RON\", symbol: \"lei\"},\n    {name: \"THB\", symbol: \"฿\"},\n    {name: \"TRY\", symbol: \"TL\"},\n    {name: \"USD\", symbol: \"$\"},\n    {name: \"UGX\", symbol: \"Ush\"}, //might also be \"USh\" as per wikipedia\n    {name: \"VND\", symbol: \"₫\"}\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].name;\n  }\n\n  return data ? \"USD\" : \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "0f742efb-194f-4680-8d5d-c46e93e85966",
        "repeating": true,
        "locations": [
          "/descendant::td/descendant::text()[contains(.,'Payment Due Date') or contains(.,\"Payment Details\")]"
        ],
        "type": "http://schema.org/Person",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td[contains(.,\"Account Ending:\")]/parent::tr/parent::tbody/parent::table/preceding-sibling::table/descendant::td[1]/descendant::text()"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform (data){\n  \tif (data.match(/,/)){\n\t\treturn data.replce(/Hello|Hi|Dear/,\"\").split(/,/)[0].trim();\n    }\n  \telse return data;\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "21d6d9d2-73d1-450e-83c6-9fd9bf601d24",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/minimumPaymentDue",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/provider",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/totalPaymentDue",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "0f742efb-194f-4680-8d5d-c46e93e85966",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/customer",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* COMENITY service.comenity.net */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "48748ebd-4d3b-41fb-9624-ca95bbbfb6f8",
        "repeating": true,
        "locations": [
          "/descendant::td/descendant::text()[contains(.,\"Payment amount:\") or contains(.,\"Payment Amount:\")]"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(text(),\"View your account\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::text()[contains(.,'Payment date') or contains(.,'Payment Date')]"
                }
              ]
            },
            "name": "http://schema.org/paymentDue",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.replace(/payment\\sdate:\\s/i, \"\");\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td/descendant::text()[contains(.,\"Thank you for\") or contains(.,\"delete your payment\")]"
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    //'keyword1': 'PaymentDue',\n    //'keyword2': 'PaymentPastDue',\n    'Thank you for your payment': 'PaymentComplete',\n    'We\\'ve received your request to delete your payment': 'PaymentDeclined',\n    'Thank you for scheduling automatic payments': 'PaymentAutomaticallyApplied',\n    'Thank you for updating your payment': 'PaymentScheduled'\n\n  };\n\n  for(var key in textMatchObj){\n    if(data.trim().indexOf(key) !== -1) return textMatchObj[key];\n  }\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "concat('comenity.net','')"
        }
      },
      {
        "id": "9a42e918-b380-4db9-85c3-210c154bbf4a",
        "repeating": true,
        "locations": [
          "/descendant::td/descendant::text()[contains(.,\"Payment amount:\") or contains(.,\"Payment Amount:\")]"
        ],
        "type": "http://schema.org/Person",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "substring-after(substring-before(/descendant::b[contains(.,'Dear')],','),'Dear')"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "247411cd-b035-4e9a-8e78-a8fb7cb356ce",
        "repeating": true,
        "locations": [
          "/descendant::td/descendant::text()[contains(.,\"Payment amount:\") or contains(.,\"Payment Amount:\")]"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "substring-after(/descendant::text()[contains(.,'Payment amount') or contains(.,'Payment Amount')],':')",
                  "regex": "[0-9]+\\.?[0-9]+"
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "substring-after(/descendant::text()[contains(.,'Payment amount') or contains(.,'Payment Amount')],':')",
                  "regex": "\\W"
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {name: \"AUD\", symbol: \"A$\"},\n    {name: \"EGP\", symbol: \"ج.م\"},\n    {name: \"EUR\", symbol: \"€\"},\n    {name: \"GBP\", symbol: \"£\"},\n    {name: \"IDR\", symbol: \"Rp\"},\n    {name: \"IND\", symbol: \"Rs\"},\n    {name: \"INR\", symbol: \"₹\"},\n    {name: \"MYR\", symbol: \"RM\"},\n    {name: \"NOK\", symbol: \"kr\"},\n    {name: \"PEN\", symbol: \"S/\"},\n    {name: \"PHP\", symbol: \"₱\"},\n    {name: \"PLN\", symbol: \"zł\"},\n    {name: \"QAR\", symbol: \"ر.ق\"},\n    {name: \"RON\", symbol: \"lei\"},\n    {name: \"THB\", symbol: \"฿\"},\n    {name: \"TRY\", symbol: \"TL\"},\n    {name: \"USD\", symbol: \"$\"},\n    {name: \"UGX\", symbol: \"Ush\"}, //might also be \"USh\" as per wikipedia\n    {name: \"VND\", symbol: \"₫\"}\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].name;\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "68bc40b8-af5e-4133-87b8-4372a17441f9",
        "repeating": true,
        "locations": [
          "/descendant::td/descendant::text()[contains(.,\"Payment amount:\") or contains(.,\"Payment Amount:\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td/following::text()[contains(.,\"Comenity LLC\")]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.match(/Comenity\\sLLC/)[0] || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(text(),\"View your account\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.match(/https?:\\/{2}(www.)?comenity.net\\//)[0] || \"\";\n}",
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::img[contains(@src,\"footerLogo\")]/@src"
                }
              ]
            },
            "name": "http://schema.org/image",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "48748ebd-4d3b-41fb-9624-ca95bbbfb6f8",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "68bc40b8-af5e-4133-87b8-4372a17441f9",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "48748ebd-4d3b-41fb-9624-ca95bbbfb6f8",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "247411cd-b035-4e9a-8e78-a8fb7cb356ce",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/totalPaymentDue",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "48748ebd-4d3b-41fb-9624-ca95bbbfb6f8",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "9a42e918-b380-4db9-85c3-210c154bbf4a",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/customer",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* FACEBOOK support.facebook.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "931e95e6-6011-491a-81b9-ee2246fb0554",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": "function transform (data){\n\t  var status =  Util.getSchemaAttributeFirstValue(data, \"http://schema.org/paymentStatus\");\n  \tif (status){\n    \treturn data;\n    }\n  \telse return null;\n}",
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a[2]",
                  "regex": "\\d+"
                }
              ]
            },
            "name": "http://schema.org/accountId",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::td[@class = \"mb_blk\"][4]"
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    //English\n    \"Remaining ad costs\": \"PaymentDue\",\n    \"Advert costs since your last bill\": \"PaymentComplete\",\n    \"Ads costs since your last bill.\": \"PaymentComplete\",\n    \"billing threshold\": \"PaymentAutomaticallyApplied\",\n    \"This is your monthly bill.\": \"PaymentComplete\",\n    \"You made this manual payment.\": \"PaymentComplete\",\n    \"A manual payment was made on this account.\": \"PaymentComplete\",\n    \"Your previous payment for these ad costs failed\": \"PaymentDue\",\n    \"No reason available.\": \"PaymentComplete\",\n    \n    \n    \n    //Arabic\n    \"تكاليف الإعلانات منذ آخر فاتورة\": \"PaymentComplete\", //Ads costs since your last bill\n    \"تم إجراء دفعة يدوية بهذا الحساب\": \"PaymentComplete\", //You made this manual Payment\n    \"لقد قمت بهذه الدفعة اليدوية\": \"PaymentComplete\", //You've made this manual Payment\n    \"هذه فاتورتك الشهرية\": \"PaymentComplete\", //This is your monthly bill\n    \"يتم تحرير فواتير لك لأنك بلغت حد الفوترة بقيمة\": \"PaymentAutomaticallyApplied\", //You're billed because you've reached your billing threshold of\n    \"فشلت دفعتك السابقة مقابل هذه التكاليف الإعلانية\": \"PaymentDue\", //Your previous payment for these ad costs failed.\n    \n        \n    \n    //Dutch\n    \"Dit is je maandfactuur\": \"PaymentComplete\", //This is your monthly bill\n    \n    \n    \n    //Indonesian\n    //\"Pembayaran sebelumnya untuk biaya iklan ini gagal\": \"\", //Your previous payment for these ad costs failed\n    \"Tidak ada alasan yang tersedia\": \"PaymentComplete\", //No reason available\n    \"Pembayaran sebelumnya untuk biaya iklan ini gagal\" : \"PaymentDue\", //Your previous payment for these ad costs failed\n    \n    \n    \n    //Norwegian\n    \"Annonsekostnader siden din siste faktura\": \"PaymentDue\", //Ads costs since your last bill.\n    \"Du har utført denne manuelle betalingen\": \"PaymentComplete\", //You made this manual payment.\n    \n    \n    \n    //Romanian\n    \"Costuri de publicitate rămase la final de lună\": \"PaymentComplete\", //Advertising costs left at the end of the month\n    \"Aceasta este factura ta lunară\": \"PaymentComplete\", //This is your monthly bill \n    \n    \n    \n    //Russian\n    \"Вы выполнили этот ручной платеж\": \"PaymentComplete\", //A manual payment was made on this account\n    \n    \n    \n    //Spanish\n    \"Gastos publicitarios restantes a final de mes\": \"PaymentDue\", //Ad spending remaining at the end of the month\n    \"Gastos publicitarios desde tu última factura\": \"PaymentDue\", //Advertising expenses since your last invoice\n    \n    \n    \n    //Vietnamese\n    \"Chi phí quảng cáo kể từ hóa đơn gần đây nhất của bạn\": \"PaymentDue\", //Advertising costs since your most recent invoice\n    \"Bạn đã thực hiện khoản thanh toán thủ công này\": \"PaymentComplete\", //You made this manual payment.\n    \"Bạn đang bị lập hóa đơn vì bạn đã đạt tới ngưỡng lập hóa đơn\": \"PaymentAutomaticallyApplied\", //You are being billed because you reached your billing threshold\n    \"Khoản thanh toán trước của bạn cho các chi phí quảng cáo này không thành công\": \"PaymentDue\", //Your previous payment for these ad costs failed.\n    \n  };\n\n  for(var key in textMatchObj){\n    if(data.trim().indexOf(key) !== -1) return textMatchObj[key];\n  }\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a[2]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "\"facebook.com\""
        }
      },
      {
        "id": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a/descendant::img/@src"
                }
              ]
            },
            "name": "http://schema.org/image",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::td/descendant::text()[contains(.,\"Facebook, Inc.\") or contains(.,\"Facebook Ireland Ltd.\")]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var regex1 = new RegExp(\"Facebook,?\\\\sInc\\\\.\");\n  var regex2 = new RegExp(\"Facebook,?\\\\sIreland\\\\sLtd\\\\.\");\n  var companyOfficialArr = [regex1, regex2];\n\n  for (var i = 0; i < companyOfficialArr.length; i++) {\n    if(data.match(companyOfficialArr[i])) return data.match(/Facebook/)[0];\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
        "repeating": true,
        "locations": [
          "./descendant::td[@class = \"mb_blk\"][1]/descendant::td[2]"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var arabicNumbers = [\n    {arabic: /٠/g, western: \"0\"},\n    {arabic: /١/g, western: \"1\"},\n    {arabic: /٢/g, western: \"2\"},\n    {arabic: /٣/g, western: \"3\"},\n    {arabic: /٤/g, western: \"4\"},\n    {arabic: /٥/g, western: \"5\"},\n    {arabic: /٦/g, western: \"6\"},\n    {arabic: /٧/g, western: \"7\"},\n    {arabic: /٨/g, western: \"8\"},\n    {arabic: /٩/g, western: \"9\"},\n  ];\n  \n  arabicNumbers.forEach(function(el){\n    data = data.replace(el.arabic, el.western)\n  });\n  \n  return data;\n}",
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {code: 'USD', symbol: '$'}, //United States Dollar\n    {code: 'EUR', symbol: '€'}, //European Union Euro\n    {code: 'GBP', symbol: '£'}, //United Kingdom Pound\n    {code: 'ALL', symbol: 'Lek'}, //Albania Lek\n    {code: 'AFN', symbol: '؋'}, //Afghanistan Afghani\n    {code: 'ARS', symbol: 'AR$'}, //Argentina Peso\n    {code: 'AWG', symbol: 'ƒ'}, //Aruba Guilder\n    {code: 'AUD', symbol: 'A$'}, //Australia Dollar\n    {code: 'AZN', symbol: '₼'}, //Azerbaijan Manat\n    {code: 'BSD', symbol: 'B$'}, //Bahamas Dollar\n    {code: 'BBD', symbol: 'Bds$'}, //Barbados Dollar\n    {code: 'BYN', symbol: 'Br'}, //Belarus Ruble\n    {code: 'BZD', symbol: 'BZ$'}, //Belize Dollar\n    {code: 'BMD', symbol: 'BD$'}, //Bermuda Dollar\n    {code: 'BOB', symbol: '$b'}, //Bolivia Bolíviano\n    {code: 'BAM', symbol: 'KM'}, //Bosnia and Herzegovina Convertible Marka\n    {code: 'BWP', symbol: 'P'}, //Botswana Pula\n    {code: 'BGN', symbol: 'лв'}, //Bulgaria Lev\n    {code: 'BRL', symbol: 'R$'}, //Brazil Real\n    {code: 'BND', symbol: 'B$'}, //Brunei Darussalam Dollar\n    {code: 'KHR', symbol: '៛'}, //Cambodia Riel\n    {code: 'CAD', symbol: 'Can$'}, //Canada Dollar\n    {code: 'KYD', symbol: 'CI$'}, //Cayman Islands Dollar\n    {code: 'CLP', symbol: 'CLP$'}, //Chile Peso\n    {code: 'CNY', symbol: 'CN¥'}, //China Yuan Renminbi\n    {code: 'COP', symbol: 'COL$'}, //Colombia Peso\n    {code: 'CRC', symbol: '₡'}, //Costa Rica Colon\n    {code: 'HRK', symbol: 'kn'}, //Croatia Kuna\n    {code: 'CUP', symbol: '₱'}, //Cuba Peso\n    {code: 'CZK', symbol: 'Kč'}, //Czech Republic Koruna\n    {code: 'DKK', symbol: 'kr'}, //Denmark Krone\n    {code: 'DOP', symbol: 'RD$'}, //Dominican Republic Peso\n    {code: 'XCD', symbol: 'EC$'}, //East Caribbean Dollar\n    {code: 'EGP', symbol: 'E£'}, //Egypt Pound\n    {code: 'EGP', symbol: 'ج.م'}, //Egypt Pound\n    {code: 'SVC', symbol: '₡'}, //El Salvador Colon\n    {code: 'FKP', symbol: 'FK£'}, //Falkland Islands (Malvinas) Pound\n    {code: 'FJD', symbol: 'FJ$'}, //Fiji Dollar\n    {code: 'GHS', symbol: '¢'}, //Ghana Cedi\n    {code: 'GIP', symbol: 'GI£'}, //Gibraltar Pound\n    {code: 'GTQ', symbol: 'Q'}, //Guatemala Quetzal\n    {code: 'GGP', symbol: '£'}, //Guernsey Pound\n    {code: 'GYD', symbol: 'G$'}, //Guyana Dollar (or GY$)\n    {code: 'HNL', symbol: 'L'}, //Honduras Lempira\n    {code: 'HKD', symbol: 'HK$'}, //Hong Kong Dollar\n    {code: 'HUF', symbol: 'Ft'}, //Hungary Forint\n    {code: 'ISK', symbol: 'kr'}, //Iceland Krona\n    {code: 'INR', symbol: '₹'}, //Indian rupee\n    {code: 'IDR', symbol: 'Rp'}, //Indonesia Rupiah\n    {code: 'IRR', symbol: '﷼'}, //Iran Rial\n    {code: 'IMP', symbol: '£'}, //Isle of Man Pound\n    {code: 'ILS', symbol: '₪'}, //Israel Shekel\n    {code: 'JMD', symbol: 'J$'}, //Jamaica Dollar\n    {code: 'JPY', symbol: '¥'}, //Japan Yen\n    {code: 'JEP', symbol: '£'}, //Jersey Pound\n    {code: 'KZT', symbol: 'лв'}, //Kazakhstan Tenge\n    {code: 'KRW', symbol: '₩'}, //Korea (South) Won\n    {code: 'KPW', symbol: '₩'}, //Korea (North) Won\n    {code: 'KGS', symbol: 'лв'}, //Kyrgyzstan Som\n    {code: 'LAK', symbol: '₭'}, //Laos Kip\n    {code: 'LBP', symbol: 'ل.ل.‎'}, //Lebanon Pound\n    {code: 'LRD', symbol: 'L$'}, //Liberia Dollar - Also LD$\n    {code: 'MKD', symbol: 'ден'}, //Macedonia Denar\n    {code: 'MYR', symbol: 'RM'}, //Malaysia Ringgit\n    {code: 'MUR', symbol: '₨'}, //Mauritius Rupee\n    {code: 'MXN', symbol: 'Mex$'}, //Mexico Peso\n    {code: 'MNT', symbol: '₮'}, //Mongolia Tughrik\n    {code: 'MZN', symbol: 'MT'}, //Mozambique Metical\n    {code: 'NAD', symbol: 'N$'}, //Namibia Dollar\n    {code: 'NPR', symbol: '₨'}, //Nepal Rupee\n    {code: 'ANG', symbol: 'ƒ'}, //Netherlands Antilles Guilder\n    {code: 'NZD', symbol: 'NZ$'}, //New Zealand Dollar\n    {code: 'NIO', symbol: 'C$'}, //Nicaragua Cordoba\n    {code: 'NGN', symbol: '₦'}, //Nigeria Naira\n    {code: 'NOK', symbol: 'kr'}, //Norway Krone\n    {code: 'OMR', symbol: '﷼'}, //Oman Rial\n    {code: 'PKR', symbol: '₨'}, //Pakistan Rupee\n    {code: 'PAB', symbol: 'B/.'}, //Panama Balboa\n    {code: 'PYG', symbol: 'Gs'}, //Paraguay Guarani\n    {code: 'PEN', symbol: 'S/.'}, //Peru Sol\n    {code: 'PHP', symbol: '₱'}, //Philippines Piso\n    {code: 'PLN', symbol: 'zł'}, //Poland Zloty\n    {code: 'QAR', symbol: '﷼'}, //Qatar Riyal\n    {code: 'RON', symbol: 'lei'}, //Romania Leu\n    {code: 'RUB', symbol: '₽'}, //Russia Ruble (руб)\n    {code: 'RUB', symbol: 'руб'}, //Russia Ruble (руб)\n    {code: 'SHP', symbol: '£'}, //Saint Helena Pound\n    {code: 'SAR', symbol: '﷼'}, //Saudi Arabia Riyal\n    {code: 'RSD', symbol: 'Дин.'}, //Serbia Dinar\n    {code: 'SCR', symbol: '₨'}, //Seychelles Rupee\n    {code: 'SGD', symbol: 'S$'}, //Singapore Dollar\n    {code: 'SBD', symbol: 'SI$'}, //Solomon Islands Dollar\n    {code: 'SOS', symbol: 'S'}, //Somalia Shilling\n    {code: 'ZAR', symbol: 'R'}, //South Africa Rand\n    {code: 'LKR', symbol: '₨'}, //Sri Lanka Rupee\n    {code: 'SEK', symbol: 'kr'}, //Sweden Krona\n    {code: 'CHF', symbol: 'CHF'}, //Switzerland Franc\n    {code: 'SRD', symbol: 'Sr$'}, //Suriname Dollar\n    {code: 'SYP', symbol: '£S'}, //Syria Pound\n    {code: 'SYP', symbol: 'LS'}, //Syria Pound\n    {code: 'TWD', symbol: 'NT$'}, //Taiwan New Dollar\n    {code: 'THB', symbol: '฿'}, //Thailand Baht\n    {code: 'TTD', symbol: 'TT$'}, //Trinidad and Tobago Dollar\n    {code: 'TRY', symbol: '₺'}, //Turkish Lira\n    {code: 'TVD', symbol: '$'}, //Tuvalu Dollar\n    {code: 'AED', symbol: '.إ'}, //United Arab Emirates dirham (د.إ;)\n    {code: 'UAH', symbol: '₴'}, //Ukraine Hryvnia\n    {code: 'UYU', symbol: '$U'}, //Uruguay Peso\n    {code: 'UGX', symbol: 'Ush'}, //Ugandan shilling - might also be 'USh' as per wikipedia\n    {code: 'UZS', symbol: 'лв'}, //Uzbekistan Som\n    {code: 'VEF', symbol: 'Bs'}, //Venezuela Bolívar\n    {code: 'VND', symbol: '₫'}, //Viet Nam Dong\n    {code: 'YER', symbol: '﷼'}, //Yemen Rial\n    {code: 'ZWD', symbol: 'Z$'} //Zimbabwe Dollar\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].code;\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "0f742efb-194f-4680-8d5d-c46e93e85966",
        "repeating": true,
        "locations": [
          "./descendant::a[2]"
        ],
        "type": "http://schema.org/Person",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var strReplace = [\n    /\\(.*\\)/,\n    /إيصال/,\n    /Receipt\\sfor\\s/,\n    /Resit\\suntuk\\s/,\n  ];\n  \n  strReplace.forEach(function(el){\n    data = data.replace(el, \"\");\n  });\n  return data.trim();\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/provider",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "0f742efb-194f-4680-8d5d-c46e93e85966",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/customer",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/totalPaymentDue",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* FORD CREDIT accountmanageremail.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "931e95e6-6011-491a-81b9-ee2246fb0554",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": "function transform (data){\n\t  var status =  Util.getSchemaAttributeFirstValue(data, \"http://schema.org/paymentStatus\");\n  \tif (status){\n    \treturn data;\n    }\n  \telse return null;\n}",
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::font[contains(.,\"Account ending in\")]",
                  "regex": "\\d+"
                }
              ]
            },
            "name": "http://schema.org/accountId",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::p[contains(text(),'Your online payment of')]"
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    //'keyword1': 'PaymentDue',\n    //'keyword2': 'PaymentPastDue',\n    //'keyword3': 'PaymentComplete',\n    //'keyword4': 'PaymentDeclined',\n    //'keyword5': 'PaymentAutomaticallyApplied',\n    'is scheduled for': 'PaymentScheduled'\n  };\n  for(var key in textMatchObj){\n  if(data.trim().indexOf(key) !== -1) return textMatchObj[key];\n}\nreturn \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::strong[contains(text(),'Log in to your account')]/ancestor::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "\"accountmanageremail.com\""
        }
      },
      {
        "id": "21d6d9d2-73d1-450e-83c6-9fd9bf601d24",
        "repeating": true,
        "locations": [
          "./descendant::p[contains(text(),'Your online payment of')]"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data.match(/\\$[\\d\\,\\.]{4,}/)){\n    var price = data.replace(/\\$/,'')\n    var amt = parseFloat(price.match(/[\\$\\d\\,\\.]+/)[0].replace(/,/,'')).toFixed(2);\n    return amt;\n  } else {\n    return null;\n  }\n}",
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {name: \"AUD\", symbol: \"A$\"},\n    {name: \"AUD\", symbol: \"AU$\"},\n    {name: \"AUD\", symbol: \"AUD\"},\n    {name: \"EGP\", symbol: \"ج.م\"},\n    {name: \"EUR\", symbol: \"€\"},\n    {name: \"GBP\", symbol: \"£\"},\n    {name: \"IDR\", symbol: \"Rp\"},\n    {name: \"IND\", symbol: \"Rs\"},\n    {name: \"INR\", symbol: \"₹\"},\n    {name: \"MYR\", symbol: \"RM\"},\n    {name: \"NOK\", symbol: \"kr\"},\n    {name: \"PEN\", symbol: \"S/\"},\n    {name: \"PHP\", symbol: \"₱\"},\n    {name: \"PLN\", symbol: \"zł\"},\n    {name: \"QAR\", symbol: \"ر.ق\"},\n    {name: \"RON\", symbol: \"lei\"},\n    {name: \"THB\", symbol: \"฿\"},\n    {name: \"TRY\", symbol: \"TL\"},\n    {name: \"USD\", symbol: \"$\"},\n    {name: \"UGX\", symbol: \"Ush\"},\n    {name: \"VND\", symbol: \"₫\"},\n    {name: \"USD\", symbol: \"USD\"}\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].name;\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
        "repeating": true,
        "locations": [
          "./descendant::p[contains(text(),'Your online payment of')]"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data.match(/\\$[\\d\\,\\.]{4,}/)){\n    var price = data.replace(/\\$/,'')\n    var amt = parseFloat(price.match(/[\\$\\d\\,\\.]+/)[0].replace(/,/,'')).toFixed(2);\n    return amt;\n  } else {\n    return null;\n  }\n}",
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {name: \"AUD\", symbol: \"A$\"},\n    {name: \"AUD\", symbol: \"AU$\"},\n    {name: \"AUD\", symbol: \"AUD\"},\n    {name: \"EGP\", symbol: \"ج.م\"},\n    {name: \"EUR\", symbol: \"€\"},\n    {name: \"GBP\", symbol: \"£\"},\n    {name: \"IDR\", symbol: \"Rp\"},\n    {name: \"IND\", symbol: \"Rs\"},\n    {name: \"INR\", symbol: \"₹\"},\n    {name: \"MYR\", symbol: \"RM\"},\n    {name: \"NOK\", symbol: \"kr\"},\n    {name: \"PEN\", symbol: \"S/\"},\n    {name: \"PHP\", symbol: \"₱\"},\n    {name: \"PLN\", symbol: \"zł\"},\n    {name: \"QAR\", symbol: \"ر.ق\"},\n    {name: \"RON\", symbol: \"lei\"},\n    {name: \"THB\", symbol: \"฿\"},\n    {name: \"TRY\", symbol: \"TL\"},\n    {name: \"USD\", symbol: \"$\"},\n    {name: \"UGX\", symbol: \"Ush\"},\n    {name: \"VND\", symbol: \"₫\"},\n    {name: \"USD\", symbol: \"USD\"}\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].name;\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "0f742efb-194f-4680-8d5d-c46e93e85966",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Person",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::strong[contains(.,'the payment for your')]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform (data){\n  \tif (data.match(/,/)){\n\t\treturn data.replace(/Hello|Hi|Dear/,\"\").split(/,/)[0].trim();\n    }\n  \telse return data;\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "f3c03249-47a7-4f8b-8a9b-4e87ae029724",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "substring-after(./descendant::font[contains(.,\"Sincerely\")],\"Sincerely, \")"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "0f742efb-194f-4680-8d5d-c46e93e85966",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/customer",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/totalPaymentDue",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "f3c03249-47a7-4f8b-8a9b-4e87ae029724",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* INTUIT notification.intuit.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "931e95e6-6011-491a-81b9-ee2246fb0554",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": "function transform (data){\n\t  var status =  Util.getSchemaAttributeFirstValue(data, \"http://schema.org/paymentStatus\");\n  \tif (status){\n    \treturn data;\n    }\n  \telse return null;\n}",
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td[@class=\"dueDateContainer\"]"
                }
              ]
            },
            "name": "http://schema.org/paymentDue",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.replace(/DUE\\s/, \"\") || \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td[@class=\"totalSummaryLeft\"][contains(text(),\"due\")]"
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    \"Balance due\": \"PaymentDue\"\n  };\n\n  for(var key in textMatchObj){\n    if(key === data.trim()) return textMatchObj[key];\n  }\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[@class=\"reviewTabLabel\"]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "'intuit.com'"
        }
      },
      {
        "id": "b8a588fd-4738-4409-bb97-ea8fb4edf3be",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "substring-after(./descendant::*[contains(text(),'Powered by')],'by')"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.replace(/\\sAll\\srights\\sreserved./,\"\");\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::img[contains(@src,'logo')]/@src"
                }
              ]
            },
            "name": "http://schema.org/image",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "//td[@class='companyNameStyle']"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "//td[@class='amountDueContainer']"
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::td[@class='amountDueContainer']"
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {code: 'USD', symbol: '$'}, //United States Dollar\n    {code: 'EUR', symbol: '€'}, //European Union Euro\n    {code: 'GBP', symbol: '£'}, //United Kingdom Pound\n    {code: 'ALL', symbol: 'Lek'}, //Albania Lek\n    {code: 'AFN', symbol: '؋'}, //Afghanistan Afghani\n    {code: 'ARS', symbol: 'AR$'}, //Argentina Peso\n    {code: 'AWG', symbol: 'ƒ'}, //Aruba Guilder\n    {code: 'AUD', symbol: 'A$'}, //Australia Dollar\n    {code: 'AZN', symbol: '₼'}, //Azerbaijan Manat\n    {code: 'BSD', symbol: 'B$'}, //Bahamas Dollar\n    {code: 'BBD', symbol: 'Bds$'}, //Barbados Dollar\n    {code: 'BYN', symbol: 'Br'}, //Belarus Ruble\n    {code: 'BZD', symbol: 'BZ$'}, //Belize Dollar\n    {code: 'BMD', symbol: 'BD$'}, //Bermuda Dollar\n    {code: 'BOB', symbol: '$b'}, //Bolivia Bolíviano\n    {code: 'BAM', symbol: 'KM'}, //Bosnia and Herzegovina Convertible Marka\n    {code: 'BGN', symbol: 'лв'}, //Bulgaria Lev\n    {code: 'BRL', symbol: 'R$'}, //Brazil Real\n    {code: 'BND', symbol: 'B$'}, //Brunei Darussalam Dollar\n    {code: 'KHR', symbol: '៛'}, //Cambodia Riel\n    {code: 'CAD', symbol: 'Can$'}, //Canada Dollar\n    {code: 'KYD', symbol: 'CI$'}, //Cayman Islands Dollar\n    {code: 'CLP', symbol: 'CLP$'}, //Chile Peso\n    {code: 'CNY', symbol: 'CN¥'}, //China Yuan Renminbi\n    {code: 'COP', symbol: 'COL$'}, //Colombia Peso\n    {code: 'CRC', symbol: '₡'}, //Costa Rica Colon\n    {code: 'HRK', symbol: 'kn'}, //Croatia Kuna\n    {code: 'CUP', symbol: '₱'}, //Cuba Peso\n    {code: 'CZK', symbol: 'Kč'}, //Czech Republic Koruna\n    {code: 'DKK', symbol: 'kr'}, //Denmark Krone\n    {code: 'DOP', symbol: 'RD$'}, //Dominican Republic Peso\n    {code: 'XCD', symbol: 'EC$'}, //East Caribbean Dollar\n    {code: 'EGP', symbol: 'E£'}, //Egypt Pound\n    {code: 'EGP', symbol: 'ج.م'}, //Egypt Pound\n    {code: 'SVC', symbol: '₡'}, //El Salvador Colon\n    {code: 'FKP', symbol: 'FK£'}, //Falkland Islands (Malvinas) Pound\n    {code: 'FJD', symbol: 'FJ$'}, //Fiji Dollar\n    {code: 'GHS', symbol: '¢'}, //Ghana Cedi\n    {code: 'GIP', symbol: 'GI£'}, //Gibraltar Pound\n    {code: 'GTQ', symbol: 'Q'}, //Guatemala Quetzal\n    {code: 'GGP', symbol: '£'}, //Guernsey Pound\n    {code: 'GYD', symbol: 'G$'}, //Guyana Dollar (or GY$)\n    {code: 'HNL', symbol: 'L'}, //Honduras Lempira\n    {code: 'HKD', symbol: 'HK$'}, //Hong Kong Dollar\n    {code: 'HUF', symbol: 'Ft'}, //Hungary Forint\n    {code: 'ISK', symbol: 'kr'}, //Iceland Krona\n    {code: 'INR', symbol: '₹'}, //Indian rupee\n    {code: 'IDR', symbol: 'Rp'}, //Indonesia Rupiah\n    {code: 'IRR', symbol: '﷼'}, //Iran Rial\n    {code: 'IMP', symbol: '£'}, //Isle of Man Pound\n    {code: 'ILS', symbol: '₪'}, //Israel Shekel\n    {code: 'JMD', symbol: 'J$'}, //Jamaica Dollar\n    {code: 'JPY', symbol: '¥'}, //Japan Yen\n    {code: 'JEP', symbol: '£'}, //Jersey Pound\n    {code: 'KZT', symbol: 'лв'}, //Kazakhstan Tenge\n    {code: 'KRW', symbol: '₩'}, //Korea (South) Won\n    {code: 'KPW', symbol: '₩'}, //Korea (North) Won\n    {code: 'KGS', symbol: 'лв'}, //Kyrgyzstan Som\n    {code: 'LAK', symbol: '₭'}, //Laos Kip\n    {code: 'LBP', symbol: 'ل.ل.‎'}, //Lebanon Pound\n    {code: 'LRD', symbol: 'L$'}, //Liberia Dollar - Also LD$\n    {code: 'MKD', symbol: 'ден'}, //Macedonia Denar\n    {code: 'MYR', symbol: 'RM'}, //Malaysia Ringgit\n    {code: 'MUR', symbol: '₨'}, //Mauritius Rupee\n    {code: 'MXN', symbol: 'Mex$'}, //Mexico Peso\n    {code: 'MNT', symbol: '₮'}, //Mongolia Tughrik\n    {code: 'MZN', symbol: 'MT'}, //Mozambique Metical\n    {code: 'NAD', symbol: 'N$'}, //Namibia Dollar\n    {code: 'NPR', symbol: '₨'}, //Nepal Rupee\n    {code: 'ANG', symbol: 'ƒ'}, //Netherlands Antilles Guilder\n    {code: 'NZD', symbol: 'NZ$'}, //New Zealand Dollar\n    {code: 'NIO', symbol: 'C$'}, //Nicaragua Cordoba\n    {code: 'NGN', symbol: '₦'}, //Nigeria Naira\n    {code: 'NOK', symbol: 'kr'}, //Norway Krone\n    {code: 'OMR', symbol: '﷼'}, //Oman Rial\n    {code: 'PKR', symbol: '₨'}, //Pakistan Rupee\n    {code: 'PAB', symbol: 'B/.'}, //Panama Balboa\n    {code: 'PYG', symbol: 'Gs'}, //Paraguay Guarani\n    {code: 'PEN', symbol: 'S/.'}, //Peru Sol\n    {code: 'PHP', symbol: '₱'}, //Philippines Piso\n    {code: 'PHP', symbol: 'PHP'}, //Philippines Piso\n    {code: 'BWP', symbol: 'P'}, //Botswana Pula\n    {code: 'PLN', symbol: 'zł'}, //Poland Zloty\n    {code: 'QAR', symbol: '﷼'}, //Qatar Riyal\n    {code: 'RON', symbol: 'lei'}, //Romania Leu\n    {code: 'RUB', symbol: '₽'}, //Russia Ruble (руб)\n    {code: 'RUB', symbol: 'руб'}, //Russia Ruble (руб)\n    {code: 'SHP', symbol: '£'}, //Saint Helena Pound\n    {code: 'SAR', symbol: '﷼'}, //Saudi Arabia Riyal\n    {code: 'RSD', symbol: 'Дин.'}, //Serbia Dinar\n    {code: 'SCR', symbol: '₨'}, //Seychelles Rupee\n    {code: 'SGD', symbol: 'S$'}, //Singapore Dollar\n    {code: 'SBD', symbol: 'SI$'}, //Solomon Islands Dollar\n    {code: 'SOS', symbol: 'S'}, //Somalia Shilling\n    {code: 'ZAR', symbol: 'R'}, //South Africa Rand\n    {code: 'LKR', symbol: '₨'}, //Sri Lanka Rupee\n    {code: 'SEK', symbol: 'kr'}, //Sweden Krona\n    {code: 'CHF', symbol: 'CHF'}, //Switzerland Franc\n    {code: 'SRD', symbol: 'Sr$'}, //Suriname Dollar\n    {code: 'SYP', symbol: '£S'}, //Syria Pound\n    {code: 'SYP', symbol: 'LS'}, //Syria Pound\n    {code: 'TWD', symbol: 'NT$'}, //Taiwan New Dollar\n    {code: 'THB', symbol: '฿'}, //Thailand Baht\n    {code: 'TTD', symbol: 'TT$'}, //Trinidad and Tobago Dollar\n    {code: 'TRY', symbol: '₺'}, //Turkish Lira\n    {code: 'TVD', symbol: '$'}, //Tuvalu Dollar\n    {code: 'UAH', symbol: '₴'}, //Ukraine Hryvnia\n    {code: 'UYU', symbol: '$U'}, //Uruguay Peso\n    {code: 'UGX', symbol: 'Ush'}, //Ugandan shilling - might also be 'USh' as per wikipedia\n    {code: 'UZS', symbol: 'лв'}, //Uzbekistan Som\n    {code: 'VEF', symbol: 'Bs'}, //Venezuela Bolívar\n    {code: 'VND', symbol: '₫'}, //Viet Nam Dong\n    {code: 'YER', symbol: '﷼'}, //Yemen Rial\n    {code: 'ZWD', symbol: 'Z$'} //Zimbabwe Dollar\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].code;\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "0f742efb-194f-4680-8d5d-c46e93e85966",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Person",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::td[@class='billToContent']/descendant::text()"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform (data){\n  \tif (data.match(/,/)){\n\t\treturn data.replace(/Hello|Hi|Dear/,\"\").split(/,/)[0].trim();\n    }\n  \telse return data;\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/provider",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/totalPaymentDue",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "0f742efb-194f-4680-8d5d-c46e93e85966",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/customer",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "b8a588fd-4738-4409-bb97-ea8fb4edf3be",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* LOANCARE  myloancare.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "931e95e6-6011-491a-81b9-ee2246fb0554",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": "function transform (data){\n\t  var status =  Util.getSchemaAttributeFirstValue(data, \"http://schema.org/paymentStatus\");\n  \tif (status){\n    \treturn data;\n    }\n  \telse return null;\n}",
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::div[contains(.,'Payment to your mortgage account')]",
                  "regex": "\\d+"
                }
              ]
            },
            "name": "http://schema.org/accountId",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::div[contains(.,'Payment to your mortgage account')]"
                }
              ]
            },
            "name": "http://schema.org/paymentDue",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.match(/is\\sdue\\son\\s(\\d{1,2}\\/){2}\\d{4}/)[0].replace(/is\\sdue\\son\\s/,\"\");\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    'is due on': 'PaymentDue',\n    //'keyword2': 'PaymentPastDue',\n    //'keyword3': 'PaymentComplete',\n    //'keyword4': 'PaymentDeclined',\n    //'keyword5': 'PaymentAutomaticallyApplied',\n    //'keyword6': 'PaymentScheduled'\n  };\n  for(var key in textMatchObj){\n  if(data.trim().indexOf(key) !== -1) return textMatchObj[key];\n}\nreturn \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "\"myloancare.com\""
        }
      },
      {
        "id": "99afe2ff-d997-48a9-9fb5-80c1931101b1",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"LoanCare\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "99afe2ff-d997-48a9-9fb5-80c1931101b1",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* TWITCH twitch.tv */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "931e95e6-6011-491a-81b9-ee2246fb0554",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": "function transform (data){\n\t  var status =  Util.getSchemaAttributeFirstValue(data, \"http://schema.org/paymentStatus\");\n  \tif (status){\n    \treturn data;\n    }\n  \telse return null;\n}",
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td[@id='message-body']/descendant::p[contains(text(),\"your recent payment\")]"
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    //'keyword1': 'PaymentDue',\n    //'keyword2': 'PaymentPastDue',\n    'your recent payment': 'PaymentComplete',\n    //'keyword4': 'PaymentDeclined',\n    //'keyword5': 'PaymentAutomaticallyApplied',\n    //'keyword6': 'PaymentScheduled'\n  };\n\n  for(var key in textMatchObj){\n    if(data.trim().indexOf(key) !== -1) return textMatchObj[key];\n  }\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "."
        }
      },
      {
        "id": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::img[contains(@src,'Logo')]/@src"
                }
              ]
            },
            "name": "http://schema.org/image",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::img[contains(@src,'Logo')]/@src"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.match(/Twitch/)[0];\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/PriceSpecification",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::strong[contains(text(),'$')]"
                }
              ]
            },
            "name": "http://schema.org/price",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data.match(/\\$[\\d\\,\\.]{4,}/)){\n    var price = data.replace(/\\$/,'')\n    var amt = parseFloat(price.match(/[\\$\\d\\,\\.]+/)[0].replace(/,/,'')).toFixed(2);\n    return amt;\n  } else {\n    return null;\n  }\n}",
            "dataTypes": [
              "Number"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::strong[contains(text(),'$')]"
                }
              ]
            },
            "name": "http://schema.org/priceCurrency",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var currencies = [\n    {name: \"AUD\", symbol: \"A$\"},\n    {name: \"AUD\", symbol: \"AU$\"},\n    {name: \"AUD\", symbol: \"AUD\"},\n    {name: \"EGP\", symbol: \"ج.م\"},\n    {name: \"EUR\", symbol: \"€\"},\n    {name: \"GBP\", symbol: \"£\"},\n    {name: \"IDR\", symbol: \"Rp\"},\n    {name: \"IND\", symbol: \"Rs\"},\n    {name: \"INR\", symbol: \"₹\"},\n    {name: \"MYR\", symbol: \"RM\"},\n    {name: \"NOK\", symbol: \"kr\"},\n    {name: \"PEN\", symbol: \"S/\"},\n    {name: \"PHP\", symbol: \"₱\"},\n    {name: \"PLN\", symbol: \"zł\"},\n    {name: \"QAR\", symbol: \"ر.ق\"},\n    {name: \"RON\", symbol: \"lei\"},\n    {name: \"THB\", symbol: \"฿\"},\n    {name: \"TRY\", symbol: \"TL\"},\n    {name: \"USD\", symbol: \"$\"},\n    {name: \"UGX\", symbol: \"Ush\"},\n    {name: \"VND\", symbol: \"₫\"},\n    {name: \"USD\", symbol: \"USD\"}\n  ];\n\n  for (var i = 0; i < currencies.length; i++) {\n    if (data.indexOf(currencies[i].symbol) !== -1) return currencies[i].name;\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "fb8e35e4-0fed-4967-8b91-05020aebfce6",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/totalPaymentDue",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/provider",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* USAA mailcenter.usaa.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Invoice"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "931e95e6-6011-491a-81b9-ee2246fb0554",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Invoice",
        "javascript": "function transform (data){\n\t  var status =  Util.getSchemaAttributeFirstValue(data, \"http://schema.org/paymentStatus\");\n  \tif (status){\n    \treturn data;\n    }\n  \telse return null;\n}",
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::*[contains(text(),'ending in:')]",
                  "regex": "\\d+"
                }
              ]
            },
            "name": "http://schema.org/accountId",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td[contains(.,\"Your\") and contains(.,\"bill is available\")]"
                }
              ]
            },
            "name": "http://schema.org/paymentStatus",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var textMatchObj = {\n    'bill is available': 'PaymentDue',\n    //'keyword2': 'PaymentPastDue',\n    //'keyword3': 'PaymentComplete',\n    //'keyword4': 'PaymentDeclined',\n    //'keyword5': 'PaymentAutomaticallyApplied',\n    //'keyword6': 'PaymentScheduled'\n  };\n  for(var key in textMatchObj){\n  if(data.trim().indexOf(key) !== -1) return textMatchObj[key];\n}\nreturn \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a[contains(.,'View')]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "domain": "\"mailcenter.usaa.com\""
        }
      },
      {
        "id": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::img[contains(@src,'logo')]/@src"
                }
              ]
            },
            "name": "http://schema.org/image",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::img[contains(@src,'logo')]/@alt"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.replace(/logo/i, \"\").trim();\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::img[contains(@src,'logo')]/parent::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "0f742efb-194f-4680-8d5d-c46e93e85966",
        "repeating": true,
        "locations": [
          "/"
        ],
        "type": "http://schema.org/Person",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::p[contains(.,'Dear')]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform (data){\n  \tif (data.match(/,/)){\n\t\treturn data.replace(/Hello|Hi|Dear/,\"\").split(/,/)[0].trim();\n    }\n  \telse return data;\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "d5f6938e-6765-404f-b8c7-b5748c0d0858",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/provider",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "931e95e6-6011-491a-81b9-ee2246fb0554",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "0f742efb-194f-4680-8d5d-c46e93e85966",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/customer",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}
