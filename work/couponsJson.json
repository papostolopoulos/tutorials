/* ARGOS LTD mail.argos.co.uk */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "8601bf26-d831-4e93-92b2-f4cf550fc8e1",
        "repeating": true,
        "locations": [
          "/descendant::a[following::a[9][contains(.,\"%\")]] \n| \n/descendant::a[following::a[6][contains(.,\"Original Price\")]]\n"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "concat(.,./following::a[3],./following::a[6],./following::a[9])"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(!data) return \"\";\n  return data.replace(/[\\*©®ǂ†→§¹]/g, \"\").replace(/Was\\s£\\d{1,2}\\.\\d{2}/, \"-\");\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::td[contains(.,\"Argos Ltd\")]/descendant::p/parent::td"
        },
        "hintsJavascript": null
      },
      {
        "id": "b6596795-2303-4f35-8674-3c11318d5031",
        "repeating": true,
        "locations": [
          "/descendant::a[following::a[9][contains(.,\"%\")]] \n| \n/descendant::a[following::a[6][contains(.,\"Original Price\")]]\n"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"Argos\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "8601bf26-d831-4e93-92b2-f4cf550fc8e1",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "b6596795-2303-4f35-8674-3c11318d5031",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* BUYBUY BABY emailbuybuybaby.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "ed8ebf00-f645-410c-b5e3-31ed6adbb72d",
        "repeating": true,
        "locations": [
          "/descendant::a[contains(text(),\"Free shipping\") or contains(.,\"%\")]\n|\n/descendant::img[contains(@alt,\"%\") or contains(@alt,\"$\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n\tif(!data) return \"\";\n\tvar regArr = [\n\t\t/[\\*©®ǂ†→]/g,\n\t\t/[\\*©®ǂ†→]/g,\n\t\t/exclusive\\soffer\\sfor\\sthis\\semail\\saddress.*/,\n\t\t/SHOP\\sNOW\\..*/,\n\t\t/STOCK\\sUP\\sAND\\sSAVE!/\n\t];\n\n\tregArr.forEach(function(el){data = data.replace(el, \"\").trim()});\n\tdata = data.replace(/([a-z]+)(\\d+%)/, \"$1 $2\");\n\n\treturn data.slice(0,1).toUpperCase() + data.slice(1);\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(.,\"View\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ."
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  if (!data) return \"\";\n  //---PHASE 1---\n  //Regular expression strings and array with all string scenarios\n  var regEx1 = new RegExp(\"valid\\\\sthrough:?\\\\s\"); //valid through(:)\n  var regEx2 = new RegExp(\"expires:?\\\\s\"); //expires(:)\n  var regEx3 = new RegExp(\"until:?\\\\s\"); //until(:)\n  var regEx4 = new RegExp(\"offer\\\\sends:?\\\\s\"); //offer ends(:)\n  var regEx5 = new RegExp(\"valid\\\\suntil:?\\\\s\"); //valid until(:)\n  var regExArr = [regEx1, regEx2, regEx3, regEx4];\n\n  var dateRegEx = new RegExp(\"(\\\\d{1,2}[\\\\/\\\\.]){2}(\\\\d{2,4})?\"); // (N)N/(N)N/(NNNN)\n\t\n  var flags = \"i\"; //Can be i, gi, g\n\n\n\n  //---PHASE 2---\n  //Create the new Array -> expirTextArr. Push all the regular expressions inside\n  var expirTextArr = [];\n  for (var i = 0; i < regExArr.length; i++) {\n    expirTextArr.push(new RegExp (regExArr[i].source + dateRegEx.source, flags));\n  }\n\n\n\n  //---PHASE 3---\n  //String where the extracted (N)N/(N)N/(NNNN) is added. Then the string is split to an array.\n  var finalStrArr = \"\";\n  //loop through all the regular expressions inside the expirTextArr to see if there is a match\n  //If there is a match, then add the (N)N/(N)N/(NNNN) in finalStrArr and split it.\n  for (var i = 0; i < expirTextArr.length; i++) {\n   var el = expirTextArr[i];\n\n   if (data.match(el)) {\n    finalStrArr= data.match(el)[0].replace(/[A-Za-z]/g,\"\").trim().split(\"/\");\n     break;\n   }\n  }\n\n \n  if (finalStrArr.length === 0) return null;\n\n  //---PHASE 4---\n  //Return a concatenation (this can be expanded based on other information like currency data)\n  return new Date(finalStrArr[0] + \"/\" + finalStrArr[1] + \"/\" + finalStrArr[2] || \"1970\");\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::td[contains(text(),\"Buy Buy Baby\")]/parent::tr/parent::tbody",
          "_raw_valideThrough": "./@alt | ."
        }
      },
      {
        "id": "4ea4479f-5639-4ccc-9ee9-5c170a8bf450",
        "repeating": true,
        "locations": [
          "/descendant::a[contains(text(),\"Free shipping\") or contains(.,\"%\")]\n|\n/descendant::img[contains(@alt,\"%\") or contains(@alt,\"$\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"buy buy BABY\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "a5827674-b272-40ed-9d91-b866d981c6e8",
        "repeating": true,
        "locations": [
          "/descendant::img"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@title | ./@alt"
                }
              ]
            },
            "name": "http://schema.org/_imgtext",
            "relative": true,
            "transient": true,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "ed8ebf00-f645-410c-b5e3-31ed6adbb72d",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "4ea4479f-5639-4ccc-9ee9-5c170a8bf450",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "ed8ebf00-f645-410c-b5e3-31ed6adbb72d",
          "matchAttr": "http://schema.org/description"
        },
        "to": {
          "entityRule": "a5827674-b272-40ed-9d91-b866d981c6e8",
          "matchAttr": "http://schema.org/_imgtext"
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE",
        "matchThreshold": "0.7"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* CHILDRENS PLACE email.childrensplace.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "14569206-5c35-4881-8dc6-5b8d7e70bda4",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"%\") or contains(@alt,\"$ Off\") or contains(@alt,\"Free\") or contains(@alt,\"Double Rewards\") or contains(@alt,\"Doorbuster\")][not (contains(@alt,\"& Up\") or contains(@alt,\"and Up\") or contains(@alt,\"Every Day\"))]\n|\n/descendant::a[contains(text(),\"%\")]\n"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.replace(/-\\sLocate a Store!/, \"\").trim() || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "//td/descendant::text()[contains(.,\"My Place Rewards\")]"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n\tif(!data) return \"\";\n\tvar months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\t\n\t//Iterate through the months. If the month is included in \"data\" then:\n\t//1. slice the string where the month is at\n\t//2. return the match() of the string as month + days + year\n\tfor (var i = 0; i < months.length; i++) {\n\t\tif (data.indexOf(months[i]) !== -1) return data.slice(data.indexOf(months[i])).match(/[a-z\\s]+\\d{1,2}\\s-\\s\\d{1,2},\\s\\d{4}/i)[0].replace(/\\s\\d{1,2}\\s-/, \"\");\n\t}\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "//a[contains(.,\"childrensplace.com\")]/parent::td/parent::tr/parent::tbody/parent::table",
          "_raw_validThrough": "//td/descendant::text()[contains(.,\"My Place Rewards\")]"
        },
        "hintsJavascript": "function transform(data) {\n\tvar n=data.get(\"_footer\");\n\tn=n.toString();\n\tn= n.replace(/[A-z0-9.%+-_]{2,64}\\@[A-z0-9.]{2,64}/g,'');\n\treturn {'_footer': [n]};\n}"
      },
      {
        "id": "f8c5cf95-4779-4200-a96f-9d0693caa9c8",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"%\") or contains(@alt,\"$ Off\") or contains(@alt,\"Free\") or contains(@alt,\"Double Rewards\") or contains(@alt,\"Doorbuster\")][not (contains(@alt,\"& Up\") or contains(@alt,\"and Up\") or contains(@alt,\"Every Day\"))]\n|\n/descendant::a[contains(text(),\"%\")]\n"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"THE CHILDREN'S PLACE\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "c5de83aa-3b66-49ce-9d11-8875604ed440",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"%\") or contains(@alt,\"$\") or contains(@alt,\"Free\") or contains(@alt,\"Double Rewards\")][not (contains(@alt,\"& Up\") or contains(@alt,\"and Up\"))]"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ./@title"
                }
              ]
            },
            "name": "http://schema.org/_imgtext",
            "relative": true,
            "transient": true,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "14569206-5c35-4881-8dc6-5b8d7e70bda4",
          "matchAttr": "http://schema.org/description"
        },
        "to": {
          "entityRule": "c5de83aa-3b66-49ce-9d11-8875604ed440",
          "matchAttr": "http://schema.org/_imgtext"
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE",
        "matchThreshold": "0.7"
      },
      {
        "from": {
          "entityRule": "14569206-5c35-4881-8dc6-5b8d7e70bda4",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "f8c5cf95-4779-4200-a96f-9d0693caa9c8",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* CURRYS e.currys.co.uk */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "7b8e5864-8d73-42da-8292-40dfdc4a9847",
        "repeating": true,
        "locations": [
          "/descendant::a[contains(text(),\"%\") or\ncontains(text(),\"Save\") or\ncontains(text(),\"half price\") or\ncontains(text(),\"Up to £\") and contains(text(),\"off\") or\ncontains(text(),\"Lowest ever price\") or\ncontains(text(),\"Delivery\") and contains(text(),\"Free\")] \n"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "concat(., \" \", ./parent::td/parent::tr/following-sibling::tr/descendant::a)"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  data = data.replace(/[\\*©®ǂ†→§¹]/g, \"\");\n  return data.replace(/Find\\sout\\smore/, \"\").trim() || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "concat(., ./parent::td/parent::tr/following::tr[contains(.,\"+\") and contains(.,\"¹\")],  /descendant::a[contains(.,\"customer.services@currys.co.uk\")]/parent::td)"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  if (!data) return \"\";\n  if (data.match(/¹/) && data.indexOf(\"¹\") !== data.lastIndexOf(\"¹\")) {\n\n\n\t\t//---PHASE 1---\n\t  //Regular expression strings and array with all string scenarios\n\t  var regEx1 = new RegExp(\"valid\\\\sthrough:?\\\\s\"); //valid through(:)\n\t  var regEx2 = new RegExp(\"expires:?\\\\s\"); //expires(:)\n\t  var regEx3 = new RegExp(\"until:?\\\\s\"); //until(:)\n\t  var regEx4 = new RegExp(\"offer\\\\sends:?\\\\s\"); //offer ends(:)\n\t  var regEx5 = new RegExp(\"valid\\\\suntil:?\\\\s\"); //valid until(:)\n\t  var regExArr = [regEx1, regEx2, regEx3, regEx4];\n\n\t  var dateRegEx = new RegExp(\"([\\\\d\\\\/?\\\\.?]{2,3}){2}([\\\\d]{2,4})?\"); // (N)N/(N)N/(NNNN)\n\t  var flags = \"i\"; //Can be i, gi, g\n\n\n\n\t  //---PHASE 2---\n\t  //Create the new Array -> expirTextArr. Push all the regular expressions inside\n\t  var expirTextArr = [];\n\t  for (var i = 0; i < regExArr.length; i++) {\n\t    expirTextArr.push(new RegExp (regExArr[i].source + dateRegEx.source, flags));\n\t  }\n\n\n\n\t  //---PHASE 3---\n\t  //String where the extracted (N)N/(N)N/(NNNN) is added. Then the string is split to an array.\n\t  var finalStrArr = \"\";\n\t  //loop through all the regular expressions inside the expirTextArr to see if there is a match\n\t  //If there is a match, then add the (N)N/(N)N/(NNNN) in finalStrArr and split it.\n\t  for (var i = 0; i < expirTextArr.length; i++) {\n\t   var el = expirTextArr[i];\n\n\t   if (data.match(el)) {\n\t    finalStrArr= data.match(el)[0].replace(/[A-Za-z]/g,\"\").trim().split(\"/\");\n\t     break;\n\t   }\n\t  }\n\n\t  if (finalStrArr.length === 0) return null;\n\n\t  //---PHASE 4---\n\t  //Return a concatenation (this can be expanded based on other information like currency data)\n\t  return new Date(finalStrArr[1] + \"/\" + finalStrArr[0] + \"/\" + finalStrArr[2] || \"1970\");\n\n  }\n\n  return null;\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::a[contains(.,\"customer.services@currys.co.uk\")]/parent::td/parent::tr/parent::tbody",
          "_raw_validThrough": "concat(., ./parent::td/parent::tr/following::tr[contains(.,\"+\") and contains(.,\"¹\")],  /descendant::a[contains(.,\"customer.services@currys.co.uk\")]/parent::td)"
        }
      },
      {
        "id": "4ebdc7cf-7c5d-4ece-bb24-16bfabca8a31",
        "repeating": true,
        "locations": [
          "/descendant::a[contains(text(),\"%\") or\ncontains(text(),\"Save\") or\ncontains(text(),\"half price\") or\ncontains(text(),\"Up to £\") and contains(text(),\"off\") or\ncontains(text(),\"Lowest ever price\") or\ncontains(text(),\"Delivery\") and contains(text(),\"Free\")] \n"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"Currys\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "00ae8a86-c332-4d4e-9df9-11efef39a0c4",
        "repeating": true,
        "locations": [
          "/descendant::img"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ./@title"
                }
              ]
            },
            "name": "http://schema.org/_imgtext",
            "relative": true,
            "transient": true,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "7b8e5864-8d73-42da-8292-40dfdc4a9847",
          "matchAttr": "http://schema.org/description"
        },
        "to": {
          "entityRule": "00ae8a86-c332-4d4e-9df9-11efef39a0c4",
          "matchAttr": "http://schema.org/_imgtext"
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE",
        "matchThreshold": "0.3"
      },
      {
        "from": {
          "entityRule": "7b8e5864-8d73-42da-8292-40dfdc4a9847",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "4ebdc7cf-7c5d-4ece-bb24-16bfabca8a31",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* COSTCO  services.costco.com  */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "3b17af65-64e7-411f-8e6b-7929e02e76a1",
        "repeating": true,
        "locations": [
          "/descendant::a[contains(text(),\"%\")]\n|\n/descendant::p[contains(text(),\"%\") and not (contains(text(),\"tax\"))]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n\tif (!data) return \"\";\n\t\n\tif (data.match(/\\*\\^/g)) data = data.replace(/\\*\\^/g, \"\");\n\n\tif (data[data.length-1].match(/\\d/) && data[data.length-2].match(/[a-z\\.]/i)) \n\treturn data.slice(0, data.length-1).match(/[\\d]{1,2}%[a-z\\s,\\.&]+/i)[0].trim();\n\t\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@href\n|\n./following::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::tr[contains(.,\"%\")]"
        }
      },
      {
        "id": "a016f7cf-777e-4e20-aa42-adb63c15e3cd",
        "repeating": true,
        "locations": [
          "/descendant::a[contains(text(),\"%\")]\n|\n/descendant::p[contains(text(),\"%\") and not (contains(text(),\"tax\"))]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"COSTCO WHOLESALE\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "3b17af65-64e7-411f-8e6b-7929e02e76a1",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "a016f7cf-777e-4e20-aa42-adb63c15e3cd",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* DCSG  e.dcsg.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "fcba0d44-1414-4762-a6e9-c830f5b0d605",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt, \"%\") or contains(@alt, \"OFF\") or contains(@alt, \"$\") and not\n(contains(@alt,\"SCORECARD\"))]  |\n //descendant::b[contains(., \"%\")] "
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  //Creating the RegExp rules and the array of the Regular expressions\n  var regEx1 = new RegExp(\"^([a-z\\\\s]+)?[0-9]{2}%\\\\s[\\\\w\\\\s,'&]+\", \"gi\"),\n      regEx2 = new RegExp(\"\\\\|\\\\s[0-9]{2}%[a-z\\\\s]+\", \"gi\"),\n      regEx3 = new RegExp(\"(.*)?free[a-z\\\\s0-9\\\\$]+\", \"gi\"),\n      regEx4 = new RegExp(\"^starting\\\\sat\\\\s\\\\$[0-9\\\\.\\\\sa-z']+\", \"gi\"),\n      regEx5 = new RegExp(\"^sale.*\\\\|\", \"gi\"),\n      regEx6 = new RegExp(\".*?or\\\\sless.*\\\\|\", \"gi\"),\n      regEx7 = new RegExp(\"(.*)?\\\\$[0-9]+\\\\soff\\\\s[a-z\\\\s\\\\$0-9]+\", \"gi\"),\n      regEx8 = new RegExp(\"[a-z\\\\s]+\\\\|[\\\\sa-z0-9%]+\", \"gi\"),\n      regExArr = [regEx1, regEx2, regEx3, regEx4, regEx5, regEx6, regEx7, regEx8],\n      matchedStr = \"\";\n\n  //Loop through the Regular Expresssions array. If a condition is true, in the if statement, then \n  //the data variable will be manipulated for the final result. Nothing else will need to run.\n  for (var i = 0; i < regExArr.length; i++) {\n    \n    if (data.match(regExArr[i])){\n      matchedStr += data.match(regExArr[i])[0].replace(/[\\|\\*]/g, \"\").trim().replace(/\\s\\s/, \". \") + \".\";\n      \n      //Running map method to lowercase all the words in the array but keep the first letter into uppercase\n      var result = matchedStr.split(\" \").map(function(el) {\n        return el.slice(0,1) + el.slice(1).toLowerCase();\n      });\n      return result.join(\" \");\n    }\n    \n  }\n\nreturn \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false,
            "hintsJavascript": null
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "../@href | /descendant::u[contains(.,\"Web\")]/ancestor::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ."
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data.match(/Valid\\sthrough/)){\n    var date = data.match(/Valid\\sthrough\\s[0-9]{1,2}\\/[0-9]{1,2}/)[0].slice(\"Valid through \".length) + \"/2018\";\n    return date;\n  }\n  return \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_raw_validThrough": "./@alt | .",
          "_footer": "/descendant::p[contains(.,\"Offer valid\")]"
        },
        "hintsJavascript": "function transform(data) {\n\tvar n=data.get(\"_footer\");\n\tn=n.toString();\n\tn= n.replace(/[A-z0-9.%+-_]{2,64}\\@[A-z0-9.]{2,64}/g,'');\n\treturn {'_footer': [n]};\n}"
      },
      {
        "id": "11e386da-ea13-429f-8518-2271975c8498",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt, \"%\") or contains(@alt, \"OFF\") or contains(@alt, \"$\") and not\n(contains(@alt,\"SCORECARD\"))]  |\n //descendant::b[contains(., \"%\")] "
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"DICK'S SPORTING GOODS\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "24f4be7d-4e4e-4787-8c32-dd8927c94e58",
        "repeating": true,
        "locations": [
          "/descendant::img"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ./@title"
                }
              ]
            },
            "name": "http://schema.org/_imgtext",
            "relative": true,
            "transient": true,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "fcba0d44-1414-4762-a6e9-c830f5b0d605",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "11e386da-ea13-429f-8518-2271975c8498",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "fcba0d44-1414-4762-a6e9-c830f5b0d605",
          "matchAttr": "http://schema.org/description"
        },
        "to": {
          "entityRule": "24f4be7d-4e4e-4787-8c32-dd8927c94e58",
          "matchAttr": "http://schema.org/_imgtext"
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE",
        "matchThreshold": "0.5"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* DEAL NEWS dealnews.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "38457f14-9763-4c6b-b972-9d71a41d5e17",
        "repeating": true,
        "locations": [
          "/descendant::a[contains(.,\"MORE\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::td/parent::tr/preceding-sibling::tr/td[contains(.,\"free\") or contains(.,\"%\")]"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data + \".\" || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::td/parent::tr/preceding-sibling::tr/descendant::td[contains(.,\"free\")]/parent::tr/following-sibling::tr/td/a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::td[contains(text(),\"registered\")]"
        }
      },
      {
        "id": "11fc649a-1a14-4a54-85b1-94b6e3b5660d",
        "repeating": true,
        "locations": [
          "\"deal news\""
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": []
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "38457f14-9763-4c6b-b972-9d71a41d5e17",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "11fc649a-1a14-4a54-85b1-94b6e3b5660d",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* EBAY reply.ebay.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "4cc47cc4-b184-478f-aba1-1c833a34113a",
        "repeating": true,
        "locations": [
          "/descendant::div[contains(.,\"%\")]/parent::td/parent::tr/parent::tbody\n|\n/descendant::div[contains(.,\"%\")]/parent::a/parent::td/parent::tr/parent::tbody"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  \t//Remove special characters\n\tdata = data.replace(/[\\*©®ǂ†→]/g, \"\");\n  \t\n  \t//If second dollar sign, add old price as \"$50. Was $100\".\n\tif(data.indexOf(\"$\") !== data.lastIndexOf(\"$\")) data = data.slice(0, data.lastIndexOf(\"$\")) + \". Was \" + data.slice(data.lastIndexOf(\"$\"));\n  \n  \t//Add space between the three dots and the dollar sign\n  \tdata = data.replace(/\\.{3}\\$/, \"... $\");\n  \n  \tdata = data.replace(/(\\w+)\\$/, \"$1: $\");\n  \n\treturn data;\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::div[contains(.,\"eBay Inc\")]/ancestor::footer"
        },
        "hintsJavascript": "function transform(data) {\n\tvar n=data.get(\"_footer\");\n\tn=n.toString();\n\tn= n.replace(/[A-z0-9.%+-_]{2,64}\\@[A-z0-9.]{2,64}/g,'');\n\treturn {'_footer': [n]};\n}"
      },
      {
        "id": "846227a0-a959-478f-bf23-27df7cb39937",
        "repeating": true,
        "locations": [
          "/descendant::img"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ./@title"
                }
              ]
            },
            "name": "http://schema.org/_imgtext",
            "relative": true,
            "transient": true,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "d51f0499-9757-42a6-8fd5-5f192c44ae54",
        "repeating": true,
        "locations": [
          "/descendant::div[contains(.,\"%\")]/parent::td/parent::tr/parent::tbody\n|\n/descendant::div[contains(.,\"%\")]/parent::a/parent::td/parent::tr/parent::tbody"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"ebay.com\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "4cc47cc4-b184-478f-aba1-1c833a34113a",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "d51f0499-9757-42a6-8fd5-5f192c44ae54",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "4cc47cc4-b184-478f-aba1-1c833a34113a",
          "matchAttr": "http://schema.org/description"
        },
        "to": {
          "entityRule": "846227a0-a959-478f-bf23-27df7cb39937",
          "matchAttr": "http://schema.org/_imgtext"
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE",
        "matchThreshold": "0.7"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}
/* reply1.ebay.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "4cc47cc4-b184-478f-aba1-1c833a34113a",
        "repeating": true,
        "locations": [
          "/descendant::div[contains(.,\"%\")]/parent::td/parent::tr/parent::tbody[not (contains(.,\"Promotion\"))]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "concat(./descendant::a[contains(text(),\"%\")], \" \", ./descendant::a[contains(text(),\"Ends\")])"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n\n  //Remove text\n  var removeStrings = [\n    /[\\*©®ǂ†→]/g,\n    /\\sEnds\\s\\d+.*/\n  ];\n\n  removeStrings.forEach(function(el) {\n    data = data.replace(el, \"\");\n  });\n  \t\n  \t\n  \t//If second dollar sign, add old price as \"$50. Was $100\".\n\tif(data.indexOf(\"$\") !== data.lastIndexOf(\"$\")) data = data.slice(0, data.lastIndexOf(\"$\")) + \". Was \" + data.slice(data.lastIndexOf(\"$\"));\n\n\n    //Modify texts\n    var replaceStrings = [\n      {oldStr: /\\.{3}\\$/, newStr: \"... $\"},\n      {oldStr: /(\\w+)\\$/, newStr: \"$1: $\"},\n    ];\n    \n    replaceStrings.forEach(function(el) {\n      data = data.replace(el.oldStr, el.newStr);\n    });\n  \n\treturn data.trim();\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a[contains(text(),\"%\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a[contains(text(),\"Ends\")]"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  if (!data) return \"\";\n  //---PHASE 1---\n  //Regular expression strings and array with all string scenarios\n  var regEx1 = new RegExp(\"valid\\\\sthrough:?\\\\s\"); //valid through(:)\n  var regEx2 = new RegExp(\"expires:?\\\\s\"); //expires(:)\n  var regEx3 = new RegExp(\"until:?\\\\s\"); //until(:)\n  var regEx4 = new RegExp(\"offer\\\\sends:?\\\\s\"); //offer ends(:)\n  var regEx5 = new RegExp(\"valid\\\\suntil:?\\\\s\"); //valid until(:)\n  var regEx6 = new RegExp(\"\\\\.\\\\sEnds:?\\\\s\"); //. Ends(:)\n  var regExArr = [regEx1, regEx2, regEx3, regEx4, regEx5, regEx6];\n\n  var dateRegEx = new RegExp(\"\\\\d{1,2}[\\\\/\\\\.]\\\\d{1,2}([\\\\/\\\\.]\\\\d{2,4})?\"); // (N)N/(N)N/(NNNN)\n  var flags = \"i\"; //Can be i, gi, g\n\n\n\n  //---PHASE 2---\n  //Create the new Array -> expirTextArr. Push all the regular expressions inside\n  var expirTextArr = [];\n  for (var i = 0; i < regExArr.length; i++) {\n    expirTextArr.push(new RegExp (regExArr[i].source + dateRegEx.source, flags));\n  }\n\n\n\n  //---PHASE 3---\n  //String where the extracted (N)N/(N)N/(NNNN) is added. Then the string is split to an array.\n  var finalStrArr = \"\";\n  //loop through all the regular expressions inside the expirTextArr to see if there is a match\n  //If there is a match, then add the (N)N/(N)N/(NNNN) in finalStrArr and split it.\n  for (var i = 0; i < expirTextArr.length; i++) {\n   var el = expirTextArr[i];\n\n   if (data.match(el)) {\n    finalStrArr= data.match(el)[0].replace(/[\\.A-Za-z]/g,\"\").trim().split(\"/\");\n     break;\n   }\n  }\n\n  if (finalStrArr.length === 0) return null;\n  if (!finalStrArr[2]) finalStrArr[2] = \"1970\"\n\n  //---PHASE 4---\n  //Return a concatenation (this can be expanded based on other information like currency data)\n  return new Date(finalStrArr[0] + \"/\" + finalStrArr[1] + \"/\" + finalStrArr[2]);\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::div[contains(.,\"eBay Inc\")]",
          "_raw_validThrough": "./descendant::a[contains(text(),\". Ends\")]"
        },
        "hintsJavascript": "function transform(data) {\n\tvar n=data.get(\"_footer\");\n\tn=n.toString();\n\tn= n.replace(/[A-z0-9.%+-_]{2,64}\\@[A-z0-9.]{2,64}/g,'');\n\treturn {'_footer': [n]};\n}"
      },
      {
        "id": "d51f0499-9757-42a6-8fd5-5f192c44ae54",
        "repeating": true,
        "locations": [
          "/descendant::div[contains(.,\"%\")]/parent::td/parent::tr/parent::tbody[not (contains(.,\"Promotion\"))]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"ebay.com\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "4cc47cc4-b184-478f-aba1-1c833a34113a",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "d51f0499-9757-42a6-8fd5-5f192c44ae54",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* FITBIT e.fitbit.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "43da91bc-4dea-4d44-8819-5e20459f0c05",
        "repeating": true,
        "locations": [
          "//descendant::strong[contains(text(),\"off\") and contains(text(), \"$\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "concat(., \" \", ./following-sibling::text())"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.replace(/^For\\s/, \"\") || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false,
            "hints": {
              "_footer": "/descendant::a[contains(.,\"Fitbit, Inc\")]/parent::td"
            }
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./following::tr/descendant::a[contains(.,\"REGISTER\") and contains(.,\"NOW\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::span[contains(.,\"valid through\")]"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n\tif(!data) return \"\";\n\tvar months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  \n  data = data.slice(data.indexOf(\"valid through\"));\n\n\tfor (var i = 0; i < months.length; i++) {\n\t\tif (data.indexOf(months[i]) !== -1) return data.slice(data.indexOf(months[i])).match(/[a-z\\s]+\\s\\d{1,2}\\s?(-\\s?\\d{1,2})?,?(\\s\\d{4})?/i)[0];\n\t}\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_raw_validThrough": "/descendant::span[contains(.,\"valid through\")]",
          "_footer": "/descendant::a[contains(.,\"Fitbit, Inc\")]/parent::td"
        }
      },
      {
        "id": "37d43f71-77d1-49f3-823f-1203be755c16",
        "repeating": true,
        "locations": [
          "//descendant::strong[contains(text(),\"off\") and contains(text(), \"$\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"fitbit\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "43da91bc-4dea-4d44-8819-5e20459f0c05",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "37d43f71-77d1-49f3-823f-1203be755c16",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* GNC mail.gnc.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "86ff7be8-fdf2-4d6d-846b-0ec0eab16275",
        "repeating": true,
        "locations": [
          "/descendant::td[contains(text(),\"$\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.replace(/\\*/g, \"\") || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(.,\"View Online\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::span[contains(text(),\"effective through\")]"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n\tif(!data) return \"\";\n\tvar months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\n\t//Iterate through the months. If the month is included in \"data\" then:\n\t//1. slice the string where the month is at\n\t//2. return the match() of the string as month + days + year\n\tfor (var i = 0; i < months.length; i++) {\n\t\tif (data.indexOf(months[i]) !== -1) return data.slice(data.indexOf(months[i])).match(/[a-z\\s]+[\\d]{1,2},?\\s[\\d]{4}/i)[0];\n\t}\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_raw_validThrough": "/descendant::span[contains(text(),\"effective through\")]",
          "_footer": "/descendant::span[contains(text(),\"effective through\")]"
        }
      },
      {
        "id": "483d6db5-691e-47a6-8115-9b8aab9cf6d0",
        "repeating": true,
        "locations": [
          "/descendant::td[contains(text(),\"$\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"GNC\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "86ff7be8-fdf2-4d6d-846b-0ec0eab16275",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "483d6db5-691e-47a6-8115-9b8aab9cf6d0",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* GOLDSTAR mg.goldstar.com (div class=event)*/
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "250b951a-cde8-445b-85be-bd079dfe4f30",
        "repeating": true,
        "locations": [
          "/descendant::div[contains(@class,\"event\")]\n[descendant::p[contains(@style,\"text-decoration: line-through\") and contains(text(),\"$\")] or\ndescendant::p[contains(text(),\"FREE\")]/ancestor::div[contains(@class,\"more\")]]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "concat(./descendant::div[contains(@class,\"heading\")]/descendant::h3, \" - \",\n./descendant::div[contains(@class,\"heading\")]/descendant::p, \" \",\n./descendant::p[contains(@class,\"our\")], \". Was \",\n./descendant::p[contains(@class,\"full\")])"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var replaceStrings = [\n    {oldStr:/[\\*©®ǂ†→§™¹›]/g, newStr: \"\"},\n    {oldStr:/Was$/, newStr: \"\"},\n  ];\n\n  replaceStrings.forEach(function(el) {\n    data = data.replace(el.oldStr, el.newStr);\n  });\n\n  return data.trim() || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./child::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td[contains(text(),\"Now through\")]"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data,node,headers){\n  if(/Now\\sthrough/.exec(data)) {\n    var daysOfWeek = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    var headersArr = [];\n    for (var key in headers){\n      headersArr.push(headers[key]);\n    }\n    var emailDate = new Date(headersArr[3] * 1000);\n    var emailDay = emailDate.getDay();\n    var expirDay = daysOfWeek.indexOf(/Now\\sthrough.*/.exec(data)[0].replace(/Now\\sthrough\\s/, \"\").replace(/\\./, \"\"));\n    var addedDays = expirDay > emailDay ? expirDay - emailDay : expirDay + 7 - emailDay;\n\n    var finalDay = emailDate.getDate() + addedDays;\n    var month = emailDate.getMonth();\n\n    return new Date(\"1970\", month, finalDay);\n  }\n  return \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::p[contains(text(),\"Goldstar Events\")]/parent::td/parent::tr/parent::tbody/parent::table/parent::td/parent::tr/parent::tbody/parent::table/parent::td/parent::tr/parent::tbody",
          "_raw_validThrough": "/descendant::td[contains(text(),\"Now through\")]"
        },
        "hintsJavascript": "function transform(data) {\n  var n=data.get(\"_footer\");\n  n = n.toString().replace(/[A-z0-9.%+-_]{2,64}\\@[A-z0-9.]{2,64}/g,'');\n  return {'_footer': [n]};\n}"
      },
      {
        "id": "03a1439b-8818-4550-8d08-4a7b91fd6740",
        "repeating": true,
        "locations": [
          "/descendant::div[contains(@class,\"event\")]\n[descendant::p[contains(@style,\"text-decoration: line-through\") and contains(text(),\"$\")] or\ndescendant::p[contains(text(),\"FREE\")]/ancestor::div[contains(@class,\"more\")]]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"goldstar\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "57c65384-7a46-4ff6-8d2c-57b234d0b6c4",
        "repeating": true,
        "locations": [
          "/descendant::img"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ./@title"
                }
              ]
            },
            "name": "http://schema.org/_imgurl",
            "relative": true,
            "transient": true,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "250b951a-cde8-445b-85be-bd079dfe4f30",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "03a1439b-8818-4550-8d08-4a7b91fd6740",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "250b951a-cde8-445b-85be-bd079dfe4f30",
          "matchAttr": "http://schema.org/description"
        },
        "to": {
          "entityRule": "57c65384-7a46-4ff6-8d2c-57b234d0b6c4",
          "matchAttr": "http://schema.org/_imgurl"
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}
/* Second scenario (table class=nb) */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "250b951a-cde8-445b-85be-bd079dfe4f30",
        "repeating": true,
        "locations": [
          "/descendant::table[contains(@class,\"nb\")]/descendant::table[1][descendant::span[contains(@style,\"text-decoration: line-through\")]]\n|\n/descendant::a[contains(text(),\"Get Tickets\")]/ancestor::table[contains(@class,\"nb\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "concat(./descendant::table[2]/descendant::td[1], \" - \",\n./descendant::table[2]/descendant::td[2], \" \",\n./descendant::table[3]/descendant::a/child::text(), \". Was \",\n./descendant::table[3]/descendant::a/child::span)"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var replaceStrings = [\n    {oldStr:/[\\*©®ǂ†→§™¹›]/g, newStr: \"\"},\n    {oldStr: /Get\\sTickets.*/, newStr: \"\"},\n    {oldStr: /(\\d+\\s+(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s+)(\\$\\d+)/, newStr: \"$3. Was\"},\n    {oldStr:/Was$/, newStr: \"\"},\n    {oldStr: /\\s\\./, newStr: \"\"},\n    {oldStr:/\\s{2,}Was/, newStr: \". Was\"},\n  ];\n\n  replaceStrings.forEach(function(el) {\n    data = data.replace(el.oldStr, el.newStr);\n  });\n\n  return data.trim() || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::p[contains(text(),\"Goldstar Events\")]/parent::td/parent::tr/parent::tbody/parent::table/parent::td/parent::tr/parent::tbody/parent::table/parent::td/parent::tr/parent::tbody"
        }
      },
      {
        "id": "03a1439b-8818-4550-8d08-4a7b91fd6740",
        "repeating": true,
        "locations": [
          "/descendant::table[contains(@class,\"nb\")]/descendant::table[1][descendant::span[contains(@style,\"text-decoration: line-through\")]]\n|\n/descendant::a[contains(text(),\"Get Tickets\")]/ancestor::table[contains(@class,\"nb\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"goldstar\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "57c65384-7a46-4ff6-8d2c-57b234d0b6c4",
        "repeating": true,
        "locations": [
          "/descendant::img"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ./@title"
                }
              ]
            },
            "name": "http://schema.org/_imgurl",
            "relative": true,
            "transient": true,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "250b951a-cde8-445b-85be-bd079dfe4f30",
          "matchAttr": "http://schema.org/description"
        },
        "to": {
          "entityRule": "57c65384-7a46-4ff6-8d2c-57b234d0b6c4",
          "matchAttr": "http://schema.org/_imgurl"
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "250b951a-cde8-445b-85be-bd079dfe4f30",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "03a1439b-8818-4550-8d08-4a7b91fd6740",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* ICICI BANK custcomm.icicibank.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "e100939d-48a0-48dd-b503-f1c98924f181",
        "repeating": true,
        "locations": [
          "/descendant::strong[contains(.,\"Cashback\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if (data) {\n    var splitStr = data.split(\" \");\n\n    //Itterating through the array. if element text contains both numbers and letters\n    //but no space, then split and ad \" $\"\n    for (var i = 0; i < splitStr.length; i++) {\n      if (splitStr[i].match(/[a-z]+[\\d]+/i)) {\n        splitStr[i] = splitStr[i].match(/[a-z]+/i) + \" $\" + splitStr[i].match(/[\\d]+/);\n      }\n    }\n    return splitStr.join(\" \");\n  }\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::strong/a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::font[contains(text(),\"Terms\")]"
        }
      },
      {
        "id": "b3ec3b53-e23d-47d0-82bb-5d5b23ac7c1a",
        "repeating": true,
        "locations": [
          "/descendant::strong"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"ICICI Bank\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "e100939d-48a0-48dd-b503-f1c98924f181",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "b3ec3b53-e23d-47d0-82bb-5d5b23ac7c1a",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* H&M email.hm.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "b7695c3d-acae-406e-9529-a3ccf82c00e3",
        "repeating": true,
        "locations": [
          "/descendant::span[contains(text(),\"% OFF\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  data = data.replace(/[\\*©®ǂ†→§™¹]/g, \"\");\n  if(data.lastIndexOf(\":\") === data.length-1) data = data.slice(0, data.length-1);\n\n  var stringArr = [\n    /%/,\n    /free/i,\n    /gratuits/i, //French: Free\n    /Kostenloser/i, //German: Free\n    /gratuita/i, //Spanish: Free\n    /gratis/i, //Italian, Dutch, Corsican: Free\n    /GRÁTIS/i, //Portuguese: Free\n    /ingyenes/i, //Hungarian: Free\n    /gratuită/i, //Romanian: Free\n    /Бесплатная/i, //Russian: Free\n    /Δωρεάν/i, //Greek: Free\n    /БЕЗПЛАТНА/i, //Bulgarian: Free\n    /zdarma/i, //Czech: Free\n    /ZADARMO/i, //Slovak: Free\n    /Bezpłatna/i, //Polish: Free\n    /ÜCRETSİZ/i, //Turkish: Free\n    /مجاناً/i, //Arabic: Free\n    /折优惠/i //Chinese: Discount (% off)\n  ];\n\n  for (var i = 0; i < stringArr.length; i++) {\n    if (data.match(stringArr[i])) return data;\n  }\n\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::p[contains(@class,\"view-in-browser\")]/descendant::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./following-sibling::text()"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var dateFormats = {\n    fromTo: /from (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]{0,}\\s\\d{1,2}(st|nd|rd|th)?\\sto\\s((Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]{0,}\\s\\d{1,2}(st|nd|rd|th)?,?\\s\\d{4})/, // from mon(th) (n)n(st|nd|rd|th) to mon(th) (n)n(st|nd|rd|th), yyyy\n    mmddyyyy: /([\\d]{1,2}\\/){2}\\d{2,4}/, //MM/DD/YYYY\n    yyyymmdd: /\\d{4}(\\.[\\d]{1,2}){2}/, //YYYY/MM/DD\n    yyyymmddChn: /\\d{4}年\\d{1,2}月\\d{1,2}/, //YYYY/MM/DD - Chinese\n    ddmmyyyy: /([\\d]{1,2}\\.){2}\\d{2,4}/ //DD.MM.YYYY\n  };\n\n\n  for(var key in dateFormats){\n    if (dateFormats[key].exec(data)) {\n\n      //fromto\n      if (key === \"fromTo\") return new Date(dateFormats[key].exec(data)[0].replace(dateFormats[key], \"$3\"));\n\n\n\n      //mmddyyyy\n      if (key === \"mmddyyyy\") return dateFormats[key].exec(data)[0];\n\n\n\n\n      //yyyymmdd - yyyymmddChn - ddmmyyyy\n      if(key === \"yyyymmdd\" || key === \"yyyymmddChn\" || key === \"ddmmyyyy\") {\n        data = dateFormats[key].exec(data)[0].replace(/[年月]/g,\".\").split(\".\");\n        return key === \"ddmmyyyy\" ? data[1] + \"/\" + data[0] + \"/\" + data[2] : data[1] + \"/\" + data[2] + \"/\" + data[0];\n      }\n\n\n    } //End of parent if statement\n  } //End of for loop\n\nreturn \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::td[@class = \"footer\"]",
          "_raw_validThrough": "concat(., \"\", /descendant::div[contains(@class,\"footerContainer\")])"
        }
      },
      {
        "id": "47f1e546-87ee-405f-8477-e9dc9a73d276",
        "repeating": true,
        "locations": [
          "/descendant::span[contains(text(),\"% OFF\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"H&M\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ],
        "hints": {}
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "b7695c3d-acae-406e-9529-a3ccf82c00e3",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "47f1e546-87ee-405f-8477-e9dc9a73d276",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* HOTTOPIC rewards.hottopic.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "03121823-7e52-440c-92a2-23d14884ff87",
        "repeating": true,
        "locations": [
          "/descendant::td[contains(.,\"OFFER\")]/descendant::strong[contains(text(),\"OFFER\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var replaceStrings = [\n    {oldStr:/[\\*©®ǂ†→§™¹›]/g, newStr: \"\"},\n    {oldStr:/-$/g, newStr: \"\"},\n  ];\n\n  replaceStrings.forEach(function(el) {\n    data = data.replace(el.oldStr, el.newStr);\n  });\n\n  return data.trim() || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./following-sibling::text()"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data,node,headers){\n  if(/\\d+\\s+days\\s+from/.exec(data)) {\n    var numOfDays = Number(/\\d+\\s+days\\s+from/.exec(data)[0].replace(/[^0-9]/g, \"\"));\n    var n = headers.get(\"Date\");\n    var n1 = new Date(n * 1000);\n    var day1 = n1.getDate() + numOfDays;\n    var mon1 = n1.getMonth();\n    var vt = new Date(\"1970\", mon1, day1);\n    return vt;\n  }\n  return \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(text(),\"browser\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::text()[contains(.,\"City of Industry\")]/parent::td/parent::tr/parent::tbody"
        }
      },
      {
        "id": "2b0d252a-30ee-4b1d-8cf4-03254a6260d8",
        "repeating": true,
        "locations": [
          "/descendant::td[contains(.,\"OFFER\")]/descendant::strong[contains(text(),\"OFFER\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"Hot Topic\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "03121823-7e52-440c-92a2-23d14884ff87",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "2b0d252a-30ee-4b1d-8cf4-03254a6260d8",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* JCPENNEY e.jcpenney.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "82e001a3-6aa3-4e23-a0c5-b7f75953c111",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"% off\") or contains(@alt,\"Free shipping\") or contains(@alt,\"Code:\")]\n|\n/descendant::a[contains(text(),\"% off\") or contains(text(),\"Free shipping\") or contains(text(),\"Code:\")]\n"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){  \n  var replaceArr = [\n    /[\\*©®ǂ†→§¹]/g,\n    /shop\\snow$/i,\n    /^or\\s/i,\n    /get\\sdetails$/i\n  ];\n  \n  replaceArr.forEach(function(el){\n    data = data.replace(el, \"\");\n  });\n  \n  return data.charAt(0).toUpperCase() + data.slice(1) || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::a/@href \n| \n./@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::text()[contains(.,\"J.C. Penney, Inc\")]/parent::td"
        },
        "hintsJavascript": "function transform(data) {\n\tvar n=data.get(\"_footer\");\n\tn=n.toString();\n\tn= n.replace(/[A-z0-9.%+-_]{2,64}\\@[A-z0-9.]{2,64}/g,'');\n\treturn {'_footer': [n]};\n}"
      },
      {
        "id": "6a6c5333-9aad-49bf-8841-95fe8d312942",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"% off\") or contains(@alt,\"Free shipping\") or contains(@alt,\"Code:\")]\n|\n/descendant::a[contains(text(),\"% off\") or contains(text(),\"Free shipping\") or contains(text(),\"Code:\")]\n"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"JCPenney\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "48eebc83-5842-45db-823a-b08d4de0ca7b",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"% off\") or contains(@alt,\"Free shipping\") or contains(@alt,\"Code:\")]\n"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ./@title"
                }
              ]
            },
            "name": "http://schema.org/_imgtext",
            "relative": true,
            "transient": true,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "82e001a3-6aa3-4e23-a0c5-b7f75953c111",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "6a6c5333-9aad-49bf-8841-95fe8d312942",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "82e001a3-6aa3-4e23-a0c5-b7f75953c111",
          "matchAttr": "http://schema.org/description"
        },
        "to": {
          "entityRule": "48eebc83-5842-45db-823a-b08d4de0ca7b",
          "matchAttr": "http://schema.org/_imgtext"
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE",
        "matchThreshold": "0.7"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* KROGERMAIL e.krogermail.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "0506122c-f38c-4f39-8b88-a6c4bc753caf",
        "repeating": true,
        "locations": [
          "/descendant::td[contains(text(),\"%\") or contains(text(),\"Save\") or contains(text(),\"¢\") or contains(text(),\"$\") or contains(text(),\"99\") or contains(text(),\"Big Savings\") or contains(text(),\"FREE\")] \n[not (contains(text(),\"Did You Enjoy Today's FREE Friday?\") or contains(text(),\"Milk\") or contains(text(),\"Sugar Free\") or contains(text(),\"Beef\") or contains(text(),\"Juice\") or contains(text(),\"Bread\") or contains(text(),\"favorite Private Selection® items\") or contains(text(),\"Water\") or contains(text(),\"Crackers\") or contains(text(),\"5990 Sashabaw Rd\"))]\n|\n/descendant::a[contains(.,\"%\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data.match(/[a-z\\.\\s]+,\\sfind\\sover/i)) return data.replace(/[a-z\\.\\s]+,\\sfind\\sover/i, \"Over\");\n  return data || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(.,\"browser\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::text()[contains(.,\"now and redeem\")]"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n\tif(!data) return \"\";\n\tvar months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\n\tfor (var i = 0; i < months.length; i++) {\n\t\tif (data.indexOf(months[i]) !== -1) return data.slice(data.indexOf(months[i])).match(/[a-z\\s]+\\s\\d{1,2}\\s?(-\\s?\\d{1,2})?,?(\\s\\d{4})?/i)[0].replace(/\\d{1,2}\\s?-/, \"\") + \" 1970\";\n\t}\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_raw_validThrough": "/descendant::text()[contains(.,\"now and redeem\")]",
          "_footer": "/descendant::td/descendant::text()[contains(.,\"The Kroger Co.\")]/parent::td/parent::tr/parent::tbody"
        },
        "hintsJavascript": "function transform(data) {\n\tvar n=data.get(\"_footer\");\n\tn=n.toString();\n\tn= n.replace(/[A-z0-9.%+-_]{2,64}\\@[A-z0-9.]{2,64}/g,'');\n\treturn {'_footer': [n]};\n}"
      },
      {
        "id": "e79932a4-d008-48f3-ba97-bf66d2356f6a",
        "repeating": true,
        "locations": [
          "/descendant::td[contains(text(),\"%\") or contains(text(),\"Save\") or contains(text(),\"¢\") or contains(text(),\"$\") or contains(text(),\"99\") or contains(text(),\"Big Savings\") or contains(text(),\"FREE\")] \n[not (contains(text(),\"Did You Enjoy Today's FREE Friday?\") or contains(text(),\"Milk\") or contains(text(),\"Sugar Free\") or contains(text(),\"Beef\") or contains(text(),\"Juice\") or contains(text(),\"Bread\") or contains(text(),\"favorite Private Selection® items\") or contains(text(),\"Water\") or contains(text(),\"Crackers\") or contains(text(),\"5990 Sashabaw Rd\"))]\n|\n/descendant::a[contains(.,\"%\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"Kroger\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "0506122c-f38c-4f39-8b88-a6c4bc753caf",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "e79932a4-d008-48f3-ba97-bf66d2356f6a",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* LANDSEND */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "d0ebaf19-eb36-448f-92d0-2f1fe2b81936",
        "repeating": true,
        "locations": [
          "/descendant::a[contains(.,\"%\") and not (contains(.,\"Last day!\") or contains(.,\"Take\")) \nor contains(.,\"FREE SHIPPING\")]\n"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n return data.replace(/^\\+/, \"\").trim() || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::span[contains(text(),\"valid through\") or contains(text(),\"Valid through\")]\n|\n/descendant::p[contains(text(),\"valid through\") or contains(text(),\"Valid through\")]"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n\tdata = data.match(/valid\\sthrough[\\w\\s:]+p\\.m\\.[\\w\\s,]+\\./gi)[0].split(\",\");\n\tvar result = data[1] + \",\" + data[2];\n\treturn result || \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(.,\"%\") or contains(.,\"FREE SHIPPING\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_raw_validThrough": "/descendant::span[contains(text(),\"valid through\") or contains(text(),\"Valid through\")]\n|\n/descendant::p[contains(text(),\"valid through\") or contains(text(),\"Valid through\")]",
          "_footer": "/descendant::p[contains(.,\"landsend.com\")]/parent::div"
        }
      },
      {
        "id": "51009acc-e604-4bb0-83c1-ba5ec5e44e33",
        "repeating": true,
        "locations": [
          "/descendant::a[contains(.,\"%\") or contains(.,\"FREE SHIPPING\")]\n"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"LANDS' END\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "d0ebaf19-eb36-448f-92d0-2f1fe2b81936",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "51009acc-e604-4bb0-83c1-ba5ec5e44e33",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* MACYS emails.macys.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "1a5ffb37-1c1f-4d26-82d1-7f1f2d5dfbc6",
        "repeating": true,
        "locations": [
          "/descendant::img[\ncontains(@alt,\"percent Off\") or contains(@alt,\"percent off\") or contains(@alt,\"Percent Off\") or contains(@alt,\"% off\") or contains(@alt,\"% Off\") or contains(@alt,\"% OFF\") or \ncontains(@alt,\"free\") or\ncontains(@alt,\"get $\")]\n[not (contains(@alt,\"Rewards\") or \ncontains(@alt,\"rewards\") or \ncontains(@alt,\"Credit Card\") or \ncontains(@alt,\"Gifts\"))]\n|\n/descendant::a[contains(.,\"%\")]\n"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt|."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  if(!data) return null;\n\n  var replaceStrings = [\n    {oldStr: /\\,\\sOut\\sof\\sStore.*/g, newStr: \"\"},\n    {oldStr: /\\,\\sFinancing.*/g, newStr: \"\"},\n    {oldStr: /\\,\\sExclusions.*/g, newStr: \"\"},\n    {oldStr: /Exclusions.*/g, newStr: \"\"},\n    {oldStr: /\\,\\s*Shop\\s*All\\s*\\w+/g, newStr: \"\"},\n    {oldStr: /\\,\\sJoin\\sNow/g, newStr: \"\"},\n    {oldStr: /\\,\\sShop\\sNow/g, newStr: \"\"},\n    {oldStr: /Terms.*/g, newStr: \"\"},\n    {oldStr: /^Plus,\\s/g, newStr: \"\"},\n    {oldStr: /\\spercent/g, newStr: \"%\"},\n    {oldStr: /(\\$)\\s(\\d)/, newStr: \"$1$2\"},\n    {oldStr: /([A-z])(&)/g, newStr: \"$1 $2\"},\n    {oldStr: /Offer\\sgood\\swhile\\ssupplies\\slast.*/, newStr:\"\"}\n  ];\n\n  replaceStrings.forEach(function(el) {\n    data = data.replace(el.oldStr, el.newStr);\n  })\n\n return data.trim();\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@href\n|\n./parent::a/@href\n|\n//a[contains(.,\"Open\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt|."
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  var months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n  var months2 = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  var days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n\n\n  // For the format \"Oct. 10\"\n\tfor (var i = 0; i < months.length; i++) {\n\t\tif (data.indexOf(months[i]+\".\") !== -1)\n    return data.slice(data.indexOf(months[i]), data.length-1).replace(/([A-Z][a-z]{2}\\.\\s\\d{1,2}).*/, \"$1\").replace(/\\./,\"\");\n\t}\n\n\n\n  // For the format \"October 10\"\n  for (var j = 0; j < months2.length; j++) {\n    if (data.indexOf(months2[j]) !== -1)\n    return data.slice(data.indexOf(months2[j]), data.length-1);\n  }\n\n\n\n  // For the format \"10.12, Friday\"\n  for (var k = 0; k < days.length; k++) {\n    if (data.match(/\\d{1,2}\\.\\d{1,2},\\s/.source + RegExp(days[k]).source))\n    return data.match(/\\d{1,2}\\.\\d{1,2}/)[0].replace(/\\./,\"/\") + \"/1970\";\n  }\n\n\n  //For Veterans Day Sale\n  if (data.match(/Veterans\\sDay/)) return \"11/11/1970\";\n\n  return \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::text()[contains(.,\"Macys.com\")]/parent::span/parent::td",
          "_raw_validThrough": "./@alt|."
        },
        "hintsJavascript": null
      },
      {
        "id": "3209e700-8e00-4d09-8d7b-b4a7ee5a1edd",
        "repeating": true,
        "locations": [
          "/descendant::img[\ncontains(@alt,\"percent Off\") or contains(@alt,\"percent off\") or contains(@alt,\"Percent Off\") or contains(@alt,\"% off\") or contains(@alt,\"% Off\") or contains(@alt,\"% OFF\") or \ncontains(@alt,\"free\") or\ncontains(@alt,\"get $\")]\n[not (contains(@alt,\"Rewards\") or \ncontains(@alt,\"rewards\") or \ncontains(@alt,\"Credit Card\") or \ncontains(@alt,\"Gifts\"))]\n|\n/descendant::a[contains(.,\"%\")]\n"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"Macy's\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "d512486e-f74a-4589-b3a2-6acce89b47fe",
        "repeating": true,
        "locations": [
          "/descendant::img"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ./@title"
                }
              ]
            },
            "name": "http://schema.org/_imgtext",
            "relative": true,
            "transient": true,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "1a5ffb37-1c1f-4d26-82d1-7f1f2d5dfbc6",
          "matchAttr": "http://schema.org/description"
        },
        "to": {
          "entityRule": "d512486e-f74a-4589-b3a2-6acce89b47fe",
          "matchAttr": "http://schema.org/_imgtext"
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE",
        "matchThreshold": ".7"
      },
      {
        "from": {
          "entityRule": "1a5ffb37-1c1f-4d26-82d1-7f1f2d5dfbc6",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "3209e700-8e00-4d09-8d7b-b4a7ee5a1edd",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* MARY KAY email.marykay.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "85ea3f5c-60ea-4e41-8d33-f3073157181f",
        "repeating": true,
        "locations": [
          "/descendant::div[contains(.,\"FREE\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  data = data.replace(/[\\*©®ǂ†]/g, \"\");\n  return data.split(\"Hurry\")[0].trim() || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  data = data.replace(/[\\*©®ǂ†]/g, \"\");\n  return data.split(\"Hurry offer ends \")[1].trim() || \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(text(),\"SIGN UP NOW\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::text()[contains(.,\"MARY KAY INC\")]/ancestor::p/parent::td/parent::tr/parent::tbody"
        }
      }
    ],
    "edgeRules": [],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* MICHAELS emdeals.michaels.com  */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "c497c926-0231-4a60-bb9b-56fe6a97d247",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"%\")][not (preceding::tr/following-sibling::tr[3]/descendant::a[contains(text(),\"Exclusions apply\")])]\n|\n/descendant::b[contains(text(),\"% OFF\") or contains(text(), \"FREE\")]\n|\n/descendant::text()[contains(.,\"DISCOUNT\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "concat(., ./following-sibling::text())"
                },
                {
                  "xpath": "./@alt"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var replaceArr = [\n    {oldStr: /Excludes\\sclearance\\./, newStr: \"\"},\n    {oldStr: /:\\sMust\\spresent\\soffer\\sto\\sredeem./, newStr: \"\"}\n  ];\n  \n  replaceArr.forEach(function(el){\n    data = data.replace(el.oldStr, el.newStr);\n  });\n  \n  return data.trim() || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::a/@href | /descendant::a[contains(text(),\"View in Browser\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::text()[contains(.,\"Offers and pricing listed in this email are valid\")]"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n\tif(!data) return \"\";\n\tvar months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\n\tfor (var i = 0; i < months.length; i++) {\n\t\tif (data.indexOf(months[i]) !== -1) return data.slice(data.lastIndexOf(months[i])).match(/[A-z\\s]+\\s\\d{1,2}\\s?(-?\\s?\\d{1,2})?,?(\\s\\d{4})?/i)[0].replace(/\\d{1,2}\\s?-/, \"\") + \" 1970\";\n\t}\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::span[contains(text(),\"Michaels Stores\")]/parent::td/parent::tr/parent::tbody",
          "_raw_validThrough": "/descendant::text()[contains(.,\"Offers and pricing listed in this email are valid\")]"
        }
      },
      {
        "id": "760974c1-36d9-44e4-9bf8-6e1c81a82e9d",
        "repeating": true,
        "locations": [
          "/descendant::img"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ./@title"
                }
              ]
            },
            "name": "http://schema.org/_imgtext",
            "relative": true,
            "transient": true,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "bbd9cd3c-f13a-45dd-84b1-c7483c48949f",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"%\")][not (preceding::tr/following-sibling::tr[3]/descendant::a[contains(text(),\"Exclusions apply\")])]\n|\n/descendant::b[contains(text(),\"% OFF\") or contains(text(), \"FREE\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"Michaels\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "c497c926-0231-4a60-bb9b-56fe6a97d247",
          "matchAttr": "http://schema.org/description"
        },
        "to": {
          "entityRule": "760974c1-36d9-44e4-9bf8-6e1c81a82e9d",
          "matchAttr": "http://schema.org/_imgtext"
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE",
        "matchThreshold": "0.7"
      },
      {
        "from": {
          "entityRule": "c497c926-0231-4a60-bb9b-56fe6a97d247",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "bbd9cd3c-f13a-45dd-84b1-c7483c48949f",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* NEXT nextemail.co.uk */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "76697cbf-4d4d-485b-8560-ec7cca530cc9",
        "repeating": true,
        "locations": [
          "/descendant::table[contains(@class,\"hide\")]/descendant::img[contains(@alt,\"*\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt",
                  "regex": "[A-z\\s]+£\\d+.*\\*"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  data = data.replace(/[\\*©®ǂ†→§¹]/g, \"\");\n  return data || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::text()[contains(.,\"Next Retail Ltd\")]/parent::td"
        }
      },
      {
        "id": "77db1f98-8771-4186-8e0e-44aaa3c18182",
        "repeating": true,
        "locations": [
          "/descendant::table[contains(@class,\"hide\")]/descendant::img"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"next\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "03a9d9fd-70df-4b1a-a678-6e24ceea6159",
        "repeating": true,
        "locations": [
          "/descendant::table[contains(@class,\"hide\")]/descendant::img[contains(@alt,\"*\")]"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "76697cbf-4d4d-485b-8560-ec7cca530cc9",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "77db1f98-8771-4186-8e0e-44aaa3c18182",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "76697cbf-4d4d-485b-8560-ec7cca530cc9",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "03a9d9fd-70df-4b1a-a678-6e24ceea6159",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* OFFICE DEPOT e.officedepot.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "85290066-92b0-4fc9-91c8-939b6db4bd9d",
        "repeating": true,
        "locations": [
          "/descendant::tr[@class=\"mobile-hidden\"]/descendant::img[contains(@class,\"image\")][contains(@alt,\"%\") or contains(@alt,\"$\") or contains(@alt,\"Save\") or contains(@alt,\"Sale\") or contains(@alt,\"Free\")][not (contains(@alt,\"Tech Support\") or contains(@alt,\"starting at $\") or contains(@alt,\"Paper\")  or contains(@alt,\"paper\") or contains(@alt,\"Business Cards for $\") or contains(@alt,\"Now Businesses Save More\") or contains(@alt,\"Laptop Bundles starting at\"))] \n|\n/descendant::tr[@class=\"mobile-hidden\"]/descendant::img[not(@class)][contains(@alt,\"%\") or contains(@alt,\"$\") or contains(@alt,\"Save\") or contains(@alt,\"Sale\") or contains(@alt,\"Free\")][not (contains(@alt,\"Tech Support\") or contains(@alt,\"starting at $\") or contains(@alt,\"Paper\") or contains(@alt,\"paper\") or contains(@alt,\"Business Cards for $\") or contains(@alt,\"Now Businesses Save More\") or contains(@alt,\"Laptop Bundles starting at\"))]\n|\n/descendant::img[contains(@class,\"image\")]/parent::a/parent::td/parent::tr[not(@class)]/descendant::img[contains(@alt,\"%\") or contains(@alt,\"$\") or contains(@alt,\"Save\") or contains(@alt,\"Sale\") or contains(@alt,\"Free\")][not (contains(@alt,\"Tech Support\") or contains(@alt,\"\nstarting at $\") or contains(@alt,\"Paper $\") or contains(@alt,\"paper\") or contains(@alt,\"Business Cards for $\") or contains(@alt,\"Now Businesses Save More\") or contains(@alt,\"Laptop Bundles starting at\"))]\n|\n/descendant::span[contains(text(),\"delivery\")]\n|\n/descendant::a[contains(text(),\"$\") or contains(text(),\"%\") or contains(text(),\"Free\")]\n|\n/descendant::td[contains(text(),\"%\") and not (contains(.,\"Bonus Rewards\"))]\n|\n/descendant::b[contains(text(),\"$\")]\n"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data.trim()[data.length-1] === \":\") return data.slice(0,data.length-1);\n  return data || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::text()[contains(.,\"through\") and contains(.,\"Prices and offers valid\")]"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n\treturn data.match(/through\\s(\\d{1,2}\\/){2}\\d{2,4}/) ? data.match(/through\\s(\\d{1,2}\\/){2}\\d{2,4}/)[0].replace(/through\\s/,\"\").trim() : \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::a/@href \n| \n/descendant::span[contains(text(),\"View in web browser\")]/parent::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_raw_validThrough": "/descendant::text()[contains(.,\"through\") and contains(.,\"Prices and offers valid\")]",
          "_footer": "/descendant::text()[contains(.,\"Office Depot\")]/parent::td/parent::tr/parent::tbody"
        },
        "hintsJavascript": null
      },
      {
        "id": "93554bc9-c9bd-41fa-9815-ef300e6aa5cc",
        "repeating": true,
        "locations": [
          "/descendant::tr[@class=\"mobile-hidden\"]/descendant::img[contains(@class,\"image\")][contains(@alt,\"%\") or contains(@alt,\"$\") or contains(@alt,\"Save\") or contains(@alt,\"Sale\") or contains(@alt,\"Free\")][not (contains(@alt,\"Tech Support\") or contains(@alt,\"starting at $\") or contains(@alt,\"Paper\")  or contains(@alt,\"paper\") or contains(@alt,\"Business Cards for $\") or contains(@alt,\"Now Businesses Save More\") or contains(@alt,\"Laptop Bundles starting at\"))] \n|\n/descendant::tr[@class=\"mobile-hidden\"]/descendant::img[not(@class)][contains(@alt,\"%\") or contains(@alt,\"$\") or contains(@alt,\"Save\") or contains(@alt,\"Sale\") or contains(@alt,\"Free\")][not (contains(@alt,\"Tech Support\") or contains(@alt,\"starting at $\") or contains(@alt,\"Paper\") or contains(@alt,\"paper\") or contains(@alt,\"Business Cards for $\") or contains(@alt,\"Now Businesses Save More\") or contains(@alt,\"Laptop Bundles starting at\"))]\n|\n/descendant::img[contains(@class,\"image\")]/parent::a/parent::td/parent::tr[not(@class)]/descendant::img[contains(@alt,\"%\") or contains(@alt,\"$\") or contains(@alt,\"Save\") or contains(@alt,\"Sale\") or contains(@alt,\"Free\")][not (contains(@alt,\"Tech Support\") or contains(@alt,\"\nstarting at $\") or contains(@alt,\"Paper $\") or contains(@alt,\"paper\") or contains(@alt,\"Business Cards for $\") or contains(@alt,\"Now Businesses Save More\") or contains(@alt,\"Laptop Bundles starting at\"))]\n|\n/descendant::span[contains(text(),\"delivery\")]\n|\n/descendant::a[contains(text(),\"$\") or contains(text(),\"%\") or contains(text(),\"Free\")]\n|\n/descendant::td[contains(text(),\"%\") and not (contains(.,\"Bonus Rewards\"))]\n|\n/descendant::b[contains(text(),\"$\")]\n"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"office DEPOT\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "cd344525-1ad1-424f-816e-139309b71062",
        "repeating": true,
        "locations": [
          "/descendant::tr[@class=\"mobile-hidden\"]/descendant::img[contains(@class,\"image\")][contains(@alt,\"%\") or contains(@alt,\"$\") or contains(@alt,\"Save\") or contains(@alt,\"Sale\") or contains(@alt,\"Free\")][not (contains(@alt,\"Tech Support\") or contains(@alt,\"starting at $\") or contains(@alt,\"Paper\")  or contains(@alt,\"paper\") or contains(@alt,\"Business Cards for $\") or contains(@alt,\"Now Businesses Save More\") or contains(@alt,\"Laptop Bundles starting at\"))] \n|\n/descendant::tr[@class=\"mobile-hidden\"]/descendant::img[not(@class)][contains(@alt,\"%\") or contains(@alt,\"$\") or contains(@alt,\"Save\") or contains(@alt,\"Sale\") or contains(@alt,\"Free\")][not (contains(@alt,\"Tech Support\") or contains(@alt,\"starting at $\") or contains(@alt,\"Paper\") or contains(@alt,\"paper\") or contains(@alt,\"Business Cards for $\") or contains(@alt,\"Now Businesses Save More\") or contains(@alt,\"Laptop Bundles starting at\"))]\n|\n/descendant::img[contains(@class,\"image\")]/parent::a/parent::td/parent::tr[not(@class)]/descendant::img[contains(@alt,\"%\") or contains(@alt,\"$\") or contains(@alt,\"Save\") or contains(@alt,\"Sale\") or contains(@alt,\"Free\")][not (contains(@alt,\"Tech Support\") or contains(@alt,\"\nstarting at $\") or contains(@alt,\"Paper $\") or contains(@alt,\"paper\") or contains(@alt,\"Business Cards for $\") or contains(@alt,\"Now Businesses Save More\") or contains(@alt,\"Laptop Bundles starting at\"))]\n|\n/descendant::span[contains(text(),\"delivery\")]\n|\n/descendant::a[contains(text(),\"$\") or contains(text(),\"%\") or contains(text(),\"Free\")]\n|\n/descendant::td[contains(text(),\"%\") and not (contains(.,\"Bonus Rewards\"))]\n|\n/descendant::b[contains(text(),\"$\")]\n"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt | ./@title"
                }
              ]
            },
            "name": "http://schema.org/_imgtext",
            "relative": true,
            "transient": true,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "85290066-92b0-4fc9-91c8-939b6db4bd9d",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "93554bc9-c9bd-41fa-9815-ef300e6aa5cc",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "85290066-92b0-4fc9-91c8-939b6db4bd9d",
          "matchAttr": "http://schema.org/description"
        },
        "to": {
          "entityRule": "cd344525-1ad1-424f-816e-139309b71062",
          "matchAttr": "http://schema.org/_imgtext"
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE",
        "matchThreshold": ".7"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* SAFEWAY email.safeway.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "14691b45-42cc-443f-b2f9-58e7a53c78b1",
        "repeating": true,
        "locations": [
          "//descendant::div[contains(text(), \"$\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if(data.match(/\\$[\\d]+\\sOff[\\s\\+a-z]+/)){\n    return data.match(/\\$[\\d]+\\sOff[\\s\\+a-z]+/i)[0].trim();\n  }\n  return \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.match(/Order\\sby/) ? \n  data.match(/Order\\sby\\s[\\d\\/]+/)[0].slice(\"Order by \".length) : \n  \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "//descendant::a[contains(text(), \"View\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_raw_validThrough": ".",
          "_footer": "/descendant::div[contains(.,\"Limited time\")]"
        },
        "hintsJavascript": null
      },
      {
        "id": "024f7ada-9f5b-4026-8c86-258b1aa47d5d",
        "repeating": true,
        "locations": [
          "//descendant::div[contains(text(), \"$20 Off\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"SAFEWAY\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "14691b45-42cc-443f-b2f9-58e7a53c78b1",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "024f7ada-9f5b-4026-8c86-258b1aa47d5d",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* SEARS value.sears.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "f5a298ac-6358-4606-82fb-a1e4f1639819",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"% OFF\") or\ncontains(@alt,\"Sale\") or \ncontains(@alt,\"BLOWOUT\") or \ncontains(@alt,\"GET IT BY CHRISTMAS\") or \ncontains(@alt,\"FREE SHIPPING\") or\ncontains(@alt,\"Free Shipping\") or \ncontains(@alt,\"freestorepickup\") or \ncontains(@alt,\"IN-VEHICLE PICKUP\") or \ncontains(@alt,\"CASHBACK\") or \ncontains(@alt, \"exclusive\") or \ncontains(@alt, \"Reg.\") or \n(contains(@alt, \"$\") and contains(@alt, \"off\"))]\n[not (contains(@alt,\"Exclusions apply\") or contains(@alt, \"valid until\") or contains(@alt, \"SHOP FREE SHIPPING\"))]\n"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  if(!data) return null;\n\n\n  var replaceStrings = [\n    {oldStr:/[\\*©®ǂ‡†±→§™¹›]/g, newStr: \"\"},\n    {oldStr: /\\|\\s+SHOP (ALL DEALS|NOW).*/gi, newStr: \"\"},\n    {oldStr: /\\|\\s+FIND A STORE.*/gi, newStr: \"\"},\n    {oldStr: /I agree to receive recurring autodialed messages.*/gi, newStr: \"\"},\n    {oldStr: /\\|\\s+ORDER BY 11:59.*/gi, newStr: \"\"},\n    {oldStr: /\\(Restrictions apply\\.\\) /i, newStr: \"\"},\n    {oldStr: /Up to \\$30 in points\\./i, newStr: \"\"},\n    {oldStr: /^-/i, newStr: \"\"},\n    {oldStr: /^\\+/i, newStr: \"\"},\n    {oldStr: /\\| By texting the code JOLLY.*/i, newStr: \"\"},\n    //{oldStr: //i, newStr: \"\"},\n  ];\n\n  replaceStrings.forEach(function(el) {\n    data = data.replace(el.oldStr, el.newStr);\n  });\n\n return data.trim();\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::a/@href\n|\n/descendant::a[contains(.,\"View Online\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "concat(./@alt, \" ~~~ \", ./following::img[contains(@alt,\"Offer ends\") or contains(@alt, \"Offers end\") or contains(@alt, \"Event ends\") or contains(@alt, \"Offer valid\") or contains(@alt, \"OFfer ends\")][1]/@alt)"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data,node,headers){\n  if(/(LAST DAY!|GET IT BY)/.test(data)) {\n    var n = headers.get(\"Date\");\n    var n1 = new Date(n * 1000);\n    var day1 = n1.getDate();\n    var mon1 = n1.getMonth();\n    var vt = new Date(\"1970\", mon1, day1);\n    return vt;\n  }\n  \n  if(/Text JOLLY/.test(data)) return \"\";\n  if(!/(Event|Offer|valid)s?\\s(ends?|valid|until)\\s(\\d{1,2}\\/){2}(\\d{2,4})/i.test(data)) return \"\";\n\n\n  var stringsArr = [\n    /\\$\\d{1,3}(\\.\\d{1,2})? CASHBACK/,\n    /†/,\n    /%\\sOFF/,\n    /\\$\\d{1,4}\\sOFF/,\n    /PRIVATE\\sEVENT/,\n    /FAMILY & FRIENDS/,\n    /BLOWOUT/,\n    /FREE SHIPPING/,\n    /Reg./,\n  ];\n\n  for(var i = 0; i < stringsArr.length; i++){\n  \tif(stringsArr[i].test(data)) return /(Event|Offer|valid)s?\\s(ends?|valid|until)\\s(\\d{1,2}\\/){2}(\\d{2,4})/i.exec(data)[0].replace(/[^(\\d{1,2}\\/){2}(\\d{2,4})]/g,\"\") || \"\";\n  }\n\n\n  return \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_raw_validThrough": "/descendant::img[contains(@alt,\"Offer ends\") or contains(@alt,\"offer ends\")]/@alt",
          "_footer": "/descendant::text()[contains(.,\"Sears Brands\")]/parent::td"
        }
      },
      {
        "id": "12cd83a0-8963-47e3-b898-460b54103aa2",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"% OFF\") or\ncontains(@alt,\"Sale\") or \ncontains(@alt,\"BLOWOUT\") or \ncontains(@alt,\"GET IT BY CHRISTMAS\") or \ncontains(@alt,\"FREE SHIPPING\") or\ncontains(@alt,\"Free Shipping\") or \ncontains(@alt,\"freestorepickup\") or \ncontains(@alt,\"IN-VEHICLE PICKUP\") or \ncontains(@alt,\"CASHBACK\") or \ncontains(@alt, \"exclusive\") or \ncontains(@alt, \"Reg.\") or \n(contains(@alt, \"$\") and contains(@alt, \"off\"))]\n[not (contains(@alt,\"Exclusions apply\") or contains(@alt, \"valid until\") or contains(@alt, \"SHOP FREE SHIPPING\"))]\n"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"sears\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "ec31bc72-acba-4648-850f-a16ef42c5a59",
        "repeating": true,
        "locations": [
          "/descendant::img"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "f5a298ac-6358-4606-82fb-a1e4f1639819",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "ec31bc72-acba-4648-850f-a16ef42c5a59",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "f5a298ac-6358-4606-82fb-a1e4f1639819",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "12cd83a0-8963-47e3-b898-460b54103aa2",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* SEPHORA beauty.sephora.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "259fa107-ae46-4563-8ec8-86d9275d2492",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt, \"Rewards Bazaar\") or \ncontains(@alt, \"REWARDS BAZAAR\") or \ncontains(@alt,\"POINT REWARDS\") or \ncontains(@alt,\"shipping\") or \ncontains(@alt,\"points per\") or \ncontains(@alt,\"Points per\") or \ncontains(@alt,\"SHIPPING\") or \ncontains(@alt,\"Free\")  or \ncontains(@alt,\"free\") or \ncontains(@alt,\"FREE\") or \ncontains(@alt,\"Use code\") or \ncontains(@alt, \"rouge reward\") or \ncontains(@alt,\"% Off\") or \ncontains(@alt,\"% OFF\") or \ncontains(@alt,\"% off\") or\n(contains(@alt,\"$\") and contains(@alt,\"Off\"))]\n"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var replaceStrArr = [\n    {oldStr: /[\\*©®ǂ†→§™¹]/g, newStr: \"\"},\n    //{oldStr: /Shop\\sNow$/i, newStr: \"\"},\n    //{oldStr: /Welcome\\skit\\sis\\sredeemable.*/, newStr: \"\"},\n    {oldStr: /POINT REWARDS\\s\\|.*/, newStr: \"POINT REWARDS\"},\n    {oldStr: /([A-z]+\\s(\\d{1,2}-?){2},\\s\\d{0,4}\\.)\\s\\|.*/, newStr: \"$1\"},\n    {oldStr: /^[1234]\\s/, newStr: \"\"},\n    {oldStr: /In\\sstore\\sand\\sonline,\\sEnds\\s(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday)\\s\\d{1,2}\\/\\d{1,2}(\\d{2,4})?/, newStr: \"\"}\n  ];\n\n  replaceStrArr.forEach(function(el) {\n    data = data.replace(el.oldStr, el.newStr);\n  });\n\n  return data.trim() || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var testRegex = /In\\sstore\\sand\\sonline,\\sEnds\\s(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday)\\s(\\d{1,2}\\/\\d{1,2})/;\n  if(testRegex.exec(data)) return \"1970/\" + testRegex.exec(data)[0].replace(testRegex, \"$2\");\n  return \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::text()[contains(.,\"JCPenney\")]/parent::*",
          "_raw_validThrough": "./@alt"
        },
        "hintsJavascript": null
      },
      {
        "id": "53021d0e-c463-4bbb-b845-4c9bd73232a0",
        "repeating": true,
        "locations": [
          "/descendant::img"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "5dcbab78-f12a-49b6-95e0-9fb23fd7c56f",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt, \"Rewards Bazaar\") or contains(@alt, \"REWARDS BAZAAR\") or contains(@alt,\"POINT REWARDS\") or contains(@alt,\"shipping\") or contains(@alt,\"points per\") or contains(@alt,\"Points per\") or contains(@alt,\"SHIPPING\") or contains(@alt,\"Free\")  or contains(@alt,\"free\") or contains(@alt,\"FREE\") or contains(@alt,\"Use code\") or contains(@alt, \"rouge reward\") or contains(@alt,\"% Off\") or contains(@alt,\"% OFF\") or (contains(@alt,\"$\") and contains(@alt,\"Off\"))]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"SEPHORA\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ],
        "hints": {}
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "259fa107-ae46-4563-8ec8-86d9275d2492",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "53021d0e-c463-4bbb-b845-4c9bd73232a0",
          "matchAttr": null
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "259fa107-ae46-4563-8ec8-86d9275d2492",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "5dcbab78-f12a-49b6-95e0-9fb23fd7c56f",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  },
  "preCleanInfo": [
    {
      "regexStr": "\\/\\*<\\!\\[cdata\\[>\\*\\/",
      "replacement": "",
      "replaceAll": false
    }
  ]
}

/* SHOP YOUR WAY REWARDS SHOPYOURWAYREWARDS rewards.shopyourwayrewards.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "380be5ca-e482-48e1-8847-63ffade6f9ea",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"CASHBACK\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  var replaceStrings = [\n    {oldStr:/[\\*©®ǂ†→§™¹›]/g, newStr: \"\"},\n  ];\n\n  replaceStrings.forEach(function(el) {\n    data = data.replace(el.oldStr, el.newStr);\n  });\n\n  return data.trim() || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./parent::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(.,\"Offer ends\") or contains(.,\"Offers end\")]"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n  return /Offers\\send\\s([\\d]{1,2}\\/){2}[\\d]{2,4}?/.exec(data)[0].replace(/Offers\\send\\s/,\"\") || \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_raw_validThrough": "/descendant::a[contains(.,\"Offer ends\") or contains(.,\"Offers end\")]",
          "_footer": "descendant::text()[contains(.,\"Sears Brands, LLC\")]/parent::td/parent::tr/parent::tbody"
        }
      },
      {
        "id": "36e0e24e-7605-4408-88ff-1f1e6f5a5c5e",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"CASHBACK\") and not (contains(@alt,\"GasBuddy\"))]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"SHOPYOURWAY\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "161da46f-9b05-49e9-8ff6-cf6d164814dc",
        "repeating": true,
        "locations": [
          "/descendant::img[contains(@alt,\"CASHBACK\") and not (contains(@alt,\"GasBuddy\"))]"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "380be5ca-e482-48e1-8847-63ffade6f9ea",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "36e0e24e-7605-4408-88ff-1f1e6f5a5c5e",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "380be5ca-e482-48e1-8847-63ffade6f9ea",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "161da46f-9b05-49e9-8ff6-cf6d164814dc",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* THE VITAMIN SHOPPE e.vitaminshoppe.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "7807681e-2727-4735-9f90-58ddbcf27f83",
        "repeating": true,
        "locations": [
          "/descendant::td/descendant::text()[contains(.,\"%\") or contains(.,\"$\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.match(/[\\w\\s$%+,&\\'\\-(\\)]+\\./i)[0] || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(text(),\"View in web-browser\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  if (data.match(/Offer\\svalid\\s(\\d{1,2}\\/){2}\\d{2,4}\\sthrough\\s(\\d{1,2}\\/){2}\\d{2,4}/)) return data.match(/Offer\\svalid\\s(\\d{1,2}\\/){2}\\d{2,4}\\sthrough\\s(\\d{1,2}\\/){2}\\d{2,4}/)[0].replace(/Offer\\svalid\\s(\\d{1,2}\\/){2}\\d{2,4}\\sthrough\\s/, \"\");\n  if (data.match(/Offer\\sextended\\s(\\d{1,2}\\/)/)) return data.match(/Offer\\sextended\\s(\\d{1,2}\\/){2}\\d{2,4}/)[0].replace(/Offer\\sextended\\s/,\"\")\n  return \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "3d11c3d5-67fa-42b3-8dbf-329e0e0171d6",
        "repeating": true,
        "locations": [
          "/descendant::td/descendant::text()[contains(.,\"%\") or contains(.,\"$\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"THE VITAMIN SHOPPE\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "7807681e-2727-4735-9f90-58ddbcf27f83",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "3d11c3d5-67fa-42b3-8dbf-329e0e0171d6",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}

/* TOTAL WINE email-totalwine.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "20dd3290-2626-436c-971f-fa579ab7187c",
        "repeating": true,
        "locations": [
          "/descendant::strong[contains(.,\"%\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n\t//Creating an array with all the distinction marks that might be at the end of the text\n  var marksArr = [\":\", \"?\", \".\", \";\"];\n\n\t//Ternary operator to clean up the text from the last character and add a full stop\n  return marksArr.indexOf[data[data.length-1]] !== -1 ?\n  \t\t\t\tdata.slice(0, data.length-1) + \".\" : \n  \t\t \t\tdata + \".\" || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::a[contains(text(),\"Shop Now\")]/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::td[contains(text(),\"valid through\")]"
                }
              ]
            },
            "name": "http://schema.org/validThrough",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data) {\n\treturn data.match(/valid\\sthrough\\s[\\d\\/]+/i)[0].replace(\"valid through\", \"\").trim() || \"\";\n}",
            "dataTypes": [
              "DateTime"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_raw_validThrough": "/descendant::td[contains(text(),\"valid through\")]",
          "_footer": "/descendant::strong[contains(text(),\"Excludes\")]/parent::td"
        }
      },
      {
        "id": "af8a4ba4-e0ba-4d16-8a18-312fa3765161",
        "repeating": true,
        "locations": [
          "/descendant::strong[contains(.,\"%\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"Total Wine\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "20dd3290-2626-436c-971f-fa579ab7187c",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "af8a4ba4-e0ba-4d16-8a18-312fa3765161",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}



/* FBMTA.COM */
/* APLEBEES aplebees.fbmta.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "d92d1c6e-d001-4182-853f-2b05a09a89ee",
        "repeating": true,
        "locations": [
          "/descendant::table[@class='desktop']/descendant::img[contains(@alt,\"99\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@alt"
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::img[contains(@alt,\"Order Now\") or contains(@alt,\"Order now\")]/parent::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hintsJavascript": "function transform(data) {\n\tvar n=data.get(\"_footer\");\n\tn=n.toString();\n\tn= n.replace(/[A-z0-9.%+-_]{2,64}\\@[A-z0-9.]{2,64}/g,'');\n\treturn {'_footer': [n]};\n}",
        "hints": {
          "_footer": "/descendant::span[contains(text(),\"This email was sent to\")]"
        }
      },
      {
        "id": "f53b60f1-64be-4853-8862-9ec18393e40d",
        "repeating": true,
        "locations": [
          "/descendant::table[@class='desktop']/descendant::img[contains(@alt,\"99\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "/descendant::span[contains(text(),\"To ensure delivery\")]"
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.replace(/.*@/, \"\").replace(/\\.fbmta\\.com.*/, \"\");\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      },
      {
        "id": "2df1786f-e585-49ba-8faa-64c337c75140",
        "repeating": true,
        "locations": [
          "/descendant::table[@class='desktop']/descendant::img[contains(@alt,\"99\")]"
        ],
        "type": "http://schema.org/ImageObject",
        "javascript": null,
        "entityIdRef": null,
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./@src"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "d92d1c6e-d001-4182-853f-2b05a09a89ee",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "f53b60f1-64be-4853-8862-9ec18393e40d",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      },
      {
        "from": {
          "entityRule": "d92d1c6e-d001-4182-853f-2b05a09a89ee",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "2df1786f-e585-49ba-8faa-64c337c75140",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/image",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}
/* THE WINGHOUSE BAR & GRILL kerswinghouse.fbmta.com */
{
  "extract": {
    "extractEmbedded": false,
    "source": null,
    "schema": [
      {
        "url": "http://ws.rmf.yahoo.com:4080/rmf/v1/schema?type=schema.org&name=y.2.0&format=json",
        "ns": "http://schema.org",
        "context": {
          "@type": [
            "Coupon"
          ]
        }
      }
    ],
    "entityRules": [
      {
        "id": "be1d2e8d-cf2e-4178-8b31-460aa884366f",
        "repeating": true,
        "locations": [
          "/descendant::span[contains(text(),\"$\") or contains(.,\"FREE\") or contains(text(),\"Drink specials\")]"
        ],
        "type": "http://schema.org/Coupon",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "."
                }
              ]
            },
            "name": "http://schema.org/description",
            "relative": true,
            "transient": false,
            "javascript": "function transform(data){\n  return data.split(\"Problem viewing\")[0] || \"\";\n}",
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          },
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "./descendant::a/@href"
                }
              ]
            },
            "name": "http://schema.org/url",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "URL"
            ],
            "mandatory": false
          }
        ],
        "hints": {
          "_footer": "/descendant::p[contains(text(),\"The WingHouse\")]/parent::span/parent::td/parent::tr/parent::tbody/parent::table/parent::td/parent::tr/parent::tbody/parent::table"
        }
      },
      {
        "id": "32533f15-8f07-48a1-8bcd-e0c56aea2d2b",
        "repeating": true,
        "locations": [
          "/descendant::span[contains(text(),\"$\") or contains(.,\"FREE\") or contains(text(),\"Drink specials\")]"
        ],
        "type": "http://schema.org/Organization",
        "javascript": null,
        "entityIdRef": "",
        "attributes": [
          {
            "repeating": false,
            "locations": {
              "-1": [
                {
                  "xpath": "\"The WingHouse Bar & Grill\""
                }
              ]
            },
            "name": "http://schema.org/name",
            "relative": true,
            "transient": false,
            "javascript": null,
            "dataTypes": [
              "Text"
            ],
            "mandatory": false
          }
        ]
      }
    ],
    "edgeRules": [
      {
        "from": {
          "entityRule": "be1d2e8d-cf2e-4178-8b31-460aa884366f",
          "matchAttr": ""
        },
        "to": {
          "entityRule": "32533f15-8f07-48a1-8bcd-e0c56aea2d2b",
          "matchAttr": ""
        },
        "predicate": "http://schema.org/broker",
        "cardinality": "ONE_TO_ONE"
      }
    ],
    "entityNS": null
  },
  "metaData": {
    "useVTDXML": "true",
    "ignoredValidations": null
  }
}
