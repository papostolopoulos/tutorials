<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script type="text/javascript" src="./vue.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <link rel="stylesheet" href="styles.css">

  <title>009 - Components Basics - Vue website tutorial</title>
</head>
<body>

  <a href="https://vuejs.org/v2/guide/components.html"><h3>Source</h3></a>

  <h1>9 - Components Basics</h1>
  <div id="componentBasics1">
    <h2>Components are reusable</h2>
    <p>
      Components are reusable Vue instances with a name.
    </p>
    <div class="jumbotron">
      <h4>Example</h4>
      <p>
        In the following example, two different buttons are created. They both feed
        from the same component. The data in the components do not conflict with one
        another since the component is reusable and therefore it represents a different
        Vue instance.
      </p>
      <button-counter></button-counter> <br>
      <button-counter></button-counter>
      <code>
Vue.component(&quot;button-counter&quot;, {
  data() {
    return {
      counter: 0
    }
  },
  template: &quot;&lt;button v-on:click=&apos;counter++&apos;&gt;I was clicked { {counter} } times&lt;/button&gt;&quot;
});
      </code>
    </div>
    <h2>Components characteristics</h2>
    <p>
      As mentioned above, the components are reusable Vue instances. Same like all
      the instances, they accept the same properties like the <code>new Vue();</code>
      instance. Therefore, the components can have <code>data</code>, <code>methods</code>,
      <code>watch</code>, <code>computed</code>.
    </p>
    <p>
      On the other hand, the components do not need an <code>el</code> property.
    </p>
    <h3><code>data</code> should be a function</h3>
    <p>
      Contrary to the <code>new Vue</code> instance, the <code>data</code> property
      in the components should always be a function. That is because the components
      are reusable and therefore, the function is needed to return an independent copy
      of the <code>data</code> object.
    </p>
    <div class="jumbotron">
      <h4>Example</h4>
      <p>
        As you see in the following example, when clicking one of the buttons, both
        of them have their value updated. That is because they are both feeding from
        the same <code>data</code> property in the <code>new Vue</code> instance.
        So contrary to the example above where the <code>Vue.component</code> allows
        for the <code>data</code> properties values to be different (through the
        returned function), the <code>new Vue</code> instance is feeding both of
        the buttons from only one <code>data</code> property and therefore the
        value rendered for both buttons is the same.
      </p>
      <button v-on:click="counter++">You clicked me {{counter}} times</button>
      <button v-on:click="counter++">You clicked me {{counter}} times</button>
      <code>
&lt;button v-on:click=&apos;counter++&apos;&gt;You clicked me {{counter}} times&lt;/button&gt;
&lt;button v-on:click=&apos;counter++&apos;&gt;You clicked me {{counter}} times&lt;/button&gt;
      </code>
    </div>
</div>

<script>
  Vue.component("button-counter", {
    data() {
      return {
        counter: 0
      }
    },
    template: "<button v-on:click='counter++'>You clicked me {{counter}} times</button>"
  });


  var componentBasics1 = new Vue({
    el: "#componentBasics1",
    data: {
      counter: 0
    }
  });
</script>




<div id="componentBasics2">
  <h2>Organizing components</h2>
  <p>
    The components can be
    used in a tree format to represent different parts of the web page like the
    heading of the page, the nav tag, different sections, differentm articles, the
    footer et cetera.
  </p>
  <p>
    Components can either be organized locally or globally. Globaly registered
    components (<code>Vue.component</code>) can be used by the root Vue instance,
    which is <b>created afterwards</b>. Also the components can be used inside all
    the sub-components of the Vue instance's component tree.
  </p>


  <h2>Passing data to child components with props</h2>
  <p>
    Props are custom attributes that can be passed to a component. For example,
    same like in an <code>input</code> tag we have attributes like <code>type</code>
    or <code>name</code>, we can create custom attributes to the Vue component in
    order to bind different types of data that come from the root Vue instance
    (<code>new Vue</code>).
  </p>
  <p>
    When a value is passed into the prop attribute, it becomes a property of that
    component instance. As mentioned in the above paragraph, we can pass different
    props values (in the format of an array) who in their turn can pull different
    data from the root Vue istance.
  </p>
  <div class="jumbotron">
    <h4>Example</h4>
    <p>
      REMEMBER: The props represent the properties in the array you want to
      render, not the array itself. So if you have an array <code>history</code> with
      elements <code>{id:1, title: "some title", content: "some content"}</code> then
      the props you should use are <code>title</code> and <code>content</code>.
    </p>
    <p>
      In the following example, there is a <code>v-for</code> itteration through
      one of the <code>data</code> properties and the <code>props</code> are
      binded with each one of the properties in the element objects.
    </p>
      <battles
      v-for="battle in history"
      v-bind:key="battle.id"
      v-bind:title="battle.title"
      v-bind:fact="battle.fact"
      >
      </battles>


      <h6>html code</h6>
      <code>
        &lt;battles
        v-for=&quot;battle in history&quot;
        v-bind:key=&quot;battle.id&quot;
        v-bind:title=&quot;battle.title&quot;
        v-bind:fact=&quot;battle.fact&quot;
        &gt;
        &lt;/battles&gt;
      </code>
      <h6>Vue code</h6>
      <code>
        Vue.component(&quot;battles&quot;, {
          props: [&quot;title&quot;, &quot;fact&quot;],
          template: &grave;
          &lt;div&gt;
          &lt;h3&gt;Battle: { {title} }&lt;/h3&gt;
          &lt;p&gt;&lt;i&gt;{ {fact} }&lt;/i&gt;&lt;/p&gt;
          &lt;/div&gt;
          &grave;
        });
      </code>
  </div>
</div>


<script>

  Vue.component("battles", {
    props: ["title", "fact"],
    template: `
    <div>
      <h3>Battle: {{title}}</h3>
      <p><i>{{fact}}</i></p>
    </div>
    `
  });

  var componentBasics2 = new Vue({
    el: "#componentBasics2",
    data: {
      history: [
        {id: 1, title: "Marathon", fact: "The Battle of Marathon took place in 490 BC, during the first Persian invasion of Greece. It was fought between the citizens of Athens, aided by Plataea, and a Persian force commanded by Datis and Artaphernes. The battle was the culmination of the first attempt by Persia, under King Darius I, to subjugate Greece."},
        {id: 2, title: "Thermopylae", fact: "The Battle of Thermopylae was fought between an alliance of Greek city-states, led by King Leonidas of Sparta, and the Persian Empire of Xerxes I over the course of three days, during the second Persian invasion of Greece."},
        {id: 3, title: "Salamis", fact: "The Battle of Salamis was a naval battle fought between an alliance of Greek city-states under Themistocles and the Persian Empire under King Xerxes in 480 BC which resulted in a decisive victory for the outnumbered Greeks."},
        {id: 4, title: "Plataea", fact: "The Battle of Plataea was the final land battle during the second Persian invasion of Greece. It took place in 479 BC near the city of Plataea in Boeotia, and was fought between an alliance of the Greek city-states, and the Persian Empire of Xerxes I."},
      ]
    }
  });
</script>





<div id="componentBasics3">
  <h2>Single Root element and Single prop</h2>
  <p>
    In the above example, you can see that the component's tempate has an <code>h3</code>
    and a <code>p</code> tag that are wrapped inside a <code>div</code> tag.
    That is because the component is expecting only <b>one root element</b>. If
    you do not do that, then an error will be thrown by Vue. In order to avoid this,
    you should wrap all the different html nodes within one single node in order to
    avoid the error.
  </p>
  <h3>Managin multiple props</h3>
  <p>
    There could be cases where the data object that is connected to the component has
    a lot different props to be matched with different properties. That can result in
    a chaotic and tedious work since each one of the props would have to be matched with
    the related element's object's property. in order to avoid that, we can create
    one prop only that is binded to each one of the elements of the array and then
    call each one of array's element's object property directly in the template.
  </p>
  <div class="jumbotron">
    <h4>Example</h4>
    <p>
      In the following example, the component's prop "battle" is binded with each one
      of the elements of the array that the data are being pulled from. Therefore,
      there is no need for each one of the properties of the element to be binded
      individually. The advantage is that in the event a new property is added to each
      one of the elements of the array where the data are being pulled from, there will
      not be a need for binding it since the whole element is binded already.
    </p>
    <greco-persian
    v-for="battle in history"
    :key="battle.id"
    :battle="battle"
    >
    </greco-persian>
  </div>
  <h6>html code</h6>
  <code>
&lt;greco-persian
    v-for=&quot;battle in history&quot;
    :key=&quot;battle.id&quot;
    :battle=&quot;battle&quot;
    &gt;
&lt;/greco-persian&gt;
  </code>
  <h6>Vue code</h6>
  <code>
Vue.component(&quot;greco-persian&quot;, {
  props: [&quot;battle&quot;],
  template: &grave;
    &lt;div&gt;
      &lt;hr&gt;
      &lt;img :src=&quot;battle.imageUrl&quot; style=&quot;width: 250px; float: right;&quot;/&gt;
      &lt;h3&gt;Battle { {battle.title} }&lt;/h3&gt;
      &lt;p&gt;{ {battle.fact} }&lt;/p&gt;
      &lt;h6&gt;Greek Force: { {battle.armyGr} }&lt;/h6&gt;
      &lt;h6&gt;Persian Force: { {battle.armyPr} }&lt;/h6&gt;
      &lt;h6&gt;Outcome: { {battle.outcome} }&lt;/h6&gt;
    &lt;/div&gt;
  &grave;
});
  </code>
</div>



<script>
  Vue.component("greco-persian", {
    props: ["battle"],
    template: `
      <div style="margin-bottom:30px;">
        <hr>
        <img :src="battle.imageUrl" style="width: 250px; float: right;"/>
        <h3>Battle {{battle.title}}</h3>
        <p>{{battle.fact}}</p>
        <h6>Greek Force: {{battle.armyGr}}</h6>
        <h6>Persian Force: {{battle.armyPr}}</h6>
        <h6>Outcome: {{battle.outcome}}</h6>
      </div>
    `
  });

  var componentBasics3 = new Vue({
    el: "#componentBasics3",
    data: {
      history: [
        {
          id: 1,
          title: "Marathon",
          fact: "The Battle of Marathon took place in 490 BC, during the first Persian invasion of Greece. It was fought between the citizens of Athens, aided by Plataea, and a Persian force commanded by Datis and Artaphernes. The battle was the culmination of the first attempt by Persia, under King Darius I, to subjugate Greece.",
          armyGr: 11000,
          armyPr: 126000,
          outcome: "Greek victory",
          imageUrl: "https://upload.wikimedia.org/wikipedia/commons/4/42/Battle_of_Marathon_Initial_Situation.png"
        },
        {
          id: 2,
          title: "Thermopylae",
          fact: "The Battle of Thermopylae (/θərˈmɒpɪliː/ thər-MOP-i-lee; Greek: Μάχη τῶν Θερμοπυλῶν, Máchē tōn Thermopylōn) was fought between an alliance of Greek city-states, led by King Leonidas of Sparta, and the Persian Empire of Xerxes I over the course of three days, during the second Persian invasion of Greece. It took place simultaneously with the naval battle at Artemisium, in August or September 480 BC, at the narrow coastal pass of Thermopylae ('The Hot Gates'). The Persian invasion was a delayed response to the defeat of the first Persian invasion of Greece, which had been ended by the Athenian victory at the Battle of Marathon in 490 BC. By 480 BC Xerxes had amassed a huge army and navy, and set out to conquer all of Greece. The Athenian politician and general Themistocles had proposed that the allied Greeks block the advance of the Persian army at the pass of Thermopylae, and simultaneously block the Persian navy at the Straits of Artemisium.",
          armyGr: 7000,
          armyPr: 150000,
          outcome: "Persian victory",
          imageUrl: "https://upload.wikimedia.org/wikipedia/commons/e/ec/Thermopylae_map_480bc.png"
        },
        {
          id: 3,
          title: "Salamis",
          fact: "The Battle of Salamis was a naval battle fought between an alliance of Greek city-states under Themistocles and the Persian Empire under King Xerxes in 480 BC which resulted in a decisive victory for the outnumbered Greeks. The battle was fought in the straits between the mainland and Salamis, an island in the Saronic Gulf near Athens, and marked the high-point of the second Persian invasion of Greece.",
          armyGr: 371,
          armyPr: 700,
          outcome: "Greek victory",
          imageUrl: "https://upload.wikimedia.org/wikipedia/commons/2/2e/Battle_of_salamis.png"
        },
        {
          id: 4,
          title: "Plataea",
          fact: "The Battle of Plataea was the final land battle during the second Persian invasion of Greece. It took place in 479 BC near the city of Plataea in Boeotia, and was fought between an alliance of the Greek city-states, and the Persian Empire of Xerxes I.",
          armyGr: 80000,
          armyPr: 120000,
          outcome: "Greek victory",
          imageUrl: "https://upload.wikimedia.org/wikipedia/commons/e/e1/Battle_of_Plataea_part_2.PNG"
        },
      ]
    }
  });
</script>




<a href="./008-form_input_bindings.html">Previous - Form Input Bindings</a> <a href="./010-component_registration.html">Next - Component Registration</a>

</body>
</html>
